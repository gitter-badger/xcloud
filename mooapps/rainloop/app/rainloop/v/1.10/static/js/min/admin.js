/* RainLoop Webmail (c) RainLoop Team | Licensed under AGPL v3 */
!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="rainloop/v/0.0.0/static/js/min/",t(t.s=171)}([function(e,t,n){"use strict";function i(e){try{e()}catch(t){}}function o(e){return!Ae(e)&&!we(e)}function r(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];return o(e)?t?/^[0-9]*$/.test(e.toString()):/^[1-9]+[0-9]*$/.test(e.toString()):!1}function a(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=o(e)&&""!==e?ie.a.parseInt(e,10):t;return ie.a.isNaN(n)?t:n}function s(e){return o(e)?""+e:""}function u(e){return!!e}function l(e){return ve(e)&&0<e.length}function c(e){return ie.a.encodeURIComponent(e)}function p(e){return ie.a.decodeURIComponent(e)}function d(e){var t={},n=[],i=[],o=0,r=0;for(n=e.split("&"),o=0,r=n.length;r>o;o++)i=n[o].split("="),t[p(i[0])]=p(i[1]);return t}function f(){var e=arguments.length<=0||void 0===arguments[0]?32:arguments[0],t="0123456789abcdefghijklmnopqrstuvwxyz",n=t.length;e=a(e);for(var i="";i.length<e;)i+=t.substr(ie.a.Math.round(ie.a.Math.random()*n),1);return i}function g(e){return o(e)?se.a.escape(e.toString()):""}function h(e){for(var t=arguments.length<=1||void 0===arguments[1]?100:arguments[1],n="",i="",o=e,r=0,a=0;o.length>t;)i=o.substring(0,t),r=i.lastIndexOf(" "),a=i.lastIndexOf("\n"),-1!==a&&(r=a),-1===r&&(r=t),n+=i.substring(0,r)+"\n",o=o.substring(r+1);return n+o}function b(e,t){return e&&ie.a.Object&&ie.a.Object.hasOwnProperty?ie.a.Object.hasOwnProperty.call(e,t):!1}function m(){return ie.a.document.activeElement?(Ae(ie.a.document.activeElement.__inFocusCache)&&(ie.a.document.activeElement.__inFocusCache=re.a.bind()(ie.a.document.activeElement).is("input,textarea,iframe,.cke_editable")),!!ie.a.document.activeElement.__inFocusCache):!1}function v(e){if(ie.a.document&&ie.a.document.activeElement&&ie.a.document.activeElement.blur)try{var t=re.a.bind()(ie.a.document.activeElement);t&&t.is("input,textarea")?ie.a.document.activeElement.blur():e&&ie.a.document.activeElement.blur()}catch(n){}}function S(){try{if(ie.a&&ie.a.getSelection){var e=ie.a.getSelection();e&&e.removeAllRanges&&e.removeAllRanges()}else ie.a.document&&ie.a.document.selection&&ie.a.document.selection.empty&&ie.a.document.selection.empty()}catch(t){}}function y(e,t){e=be(e.toUpperCase()),t=be(t.replace(/[\s]+/g," "));var n=!1,i=[],o="RE"===e,r="FWD"===e,a=!r;return""!==t&&se.a.each(t.split(":"),function(e){var t=be(e);n||!/^(RE|FWD)$/i.test(t)&&!/^(RE|FWD)[\[\(][\d]+[\]\)]$/i.test(t)?(i.push(e),n=!0):(o||(o=!!/^RE/i.test(t)),r||(r=!!/^FWD/i.test(t)))}),a?o=!1:r=!1,be((a?"Re: ":"Fwd: ")+(o?"Re: ":"")+(r?"Fwd: ":"")+be(i.join(":")))}function A(e,t){return ie.a.Math.round(e*ie.a.Math.pow(10,t))/ie.a.Math.pow(10,t)}function w(e){return e=a(e),e>=1073741824?A(e/1073741824,1)+"GB":e>=1048576?A(e/1048576,1)+"MB":e>=1024?A(e/1024,0)+"KB":e+"B"}function _(e){ie.a.console&&ie.a.console.log&&ie.a.console.log(e)}function C(e,t,n){var i=arguments.length<=3||void 0===arguments[3]?0:arguments[3];e&&e[t]&&(i=a(i),0>=i?e[t].apply(e,ve(n)?n:[]):se.a.delay(function(){e[t].apply(e,ve(n)?n:[])},i))}function T(e){if(e=e||ie.a.event,e&&e.ctrlKey&&!e.shiftKey&&!e.altKey){var t=e.keyCode||e.which;if(t===pe.EventKeyCode.S)return void e.preventDefault();if(t===pe.EventKeyCode.A){var n=e.target||e.srcElement;if(n&&("true"==""+n.contentEditable||n.tagName&&n.tagName.match(/INPUT|TEXTAREA/i)))return;ie.a.getSelection?ie.a.getSelection().removeAllRanges():ie.a.document.selection&&ie.a.document.selection.clear&&ie.a.document.selection.clear(),e.preventDefault()}}}function P(e,t){var n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],i=null,o=function(){for(var n=arguments.length,o=Array(n),r=0;n>r;r++)o[r]=arguments[r];return i&&i.canExecute&&i.canExecute()&&t.apply(e,o),!1};return i=t?o:_e,i.enabled=le.a.observable(!0),ye(n)?i.canExecute=le.a.computed(function(){return i.enabled()&&n.call(e)}):i.canExecute=le.a.computed(function(){return i.enabled()&&!!n}),i}function E(e){return e.replace(/["]/g,'\\"')}function O(){return(new ie.a.Date).getTime()}function N(){return ie.a.Math.round(O()/1e3)}function R(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return n(5).i18n("LANGS_NAMES"+(!0===t?"_EN":"")+"/LANG_"+e.toUpperCase().replace(/[^a-zA-Z0-9]+/g,"_"),null,e)}function I(){return re.a.bind()('<div class="draggablePlace"><span class="text"></span>&nbsp;<i class="icon-copy icon-white visible-on-ctrl"></i><i class="icon-mail icon-white hidden-on-ctrl"></i></div>').appendTo("#rl-hidden")}function x(e,t){t&&!Ae(t.disabled)&&e&&re.a.bind()(e).toggleClass("disabled",t.disabled).prop("disabled",t.disabled)}function D(e,t,i){var o=arguments.length<=3||void 0===arguments[3]?null:arguments[3],r=ie.a.open(""),a="__OpenerApplyBindingsUid"+f()+"__",s=re.a.bind()("#"+t);ie.a[a]=function(){if(r&&r.document.body&&s&&s[0]){var t=re.a.bind()(r.document.body);re.a.bind()("#rl-content",t).html(s.html()),re.a.bind()("html",r.document).addClass("external "+re.a.bind()("html").attr("class")),n(5).i18nToNodes(t),e&&re.a.bind()("#rl-content",t)[0]&&le.a.applyBindings(e,re.a.bind()("#rl-content",t)[0]),ie.a[a]=null,o&&o(r)}},r.document.open(),r.document.write('<html><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="user-scalable=no" /><meta name="apple-mobile-web-app-capable" content="yes" /><meta name="robots" content="noindex, nofollow, noodp" /><title>'+g(i)+'</title></head><body><div id="rl-content"></div></body></html>'),r.document.close();var u=r.document.createElement("script");u.type="text/javascript",u.innerHTML="if(window&&window.opener&&window.opener['"+a+"]'){window.opener['"+a+"']();window.opener['"+a+"']=null}",r.document.getElementsByTagName("head")[0].appendChild(u)}function L(e,t){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=arguments.length<=3||void 0===arguments[3]?1e3:arguments[3];return i=a(i),function(o,r,a,s,u){t.call(n,r&&r.Result?pe.SaveSettingsStep.TrueResult:pe.SaveSettingsStep.FalseResult),e&&e.call(n,o,r,a,s,u),se.a.delay(function(){t.call(n,pe.SaveSettingsStep.Idle)},i)}}function k(e,t){return L(null,e,t,1e3)}function M(e,t,n,i){return function(o){if(e){switch(n){default:o=s(o);break;case"bool":case"boolean":o=o?"1":"0";break;case"int":case"integer":case"number":o=a(o);break;case"trim":o=be(o)}var r={};r[t]=o,e.saveAdminConfig?e.saveAdminConfig(i||null,r):e.saveSettings&&e.saveSettings(i||null,r)}}}function F(e){return ge.link(e,{newWindow:!0,stripPrefix:!1,urls:!0,email:!0,twitter:!1,replaceFn:function(e,t){return!(e&&t&&"url"===t.getType()&&t.matchedText&&0!==t.matchedText.indexOf("http"))}})}function U(e){var t=0,n=0,i=0,o=0,r=0,a="",s=function(e){return e="> "+be(e).replace(/\n/gm,"\n> "),e.replace(/(^|\n)([> ]+)/gm,function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t&&2<t.length?t[1]+be(t[2].replace(/[\s]/g,""))+" ":""})},u=function d(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(t&&1<t.length){var i=be(t[1]);return 0<i.length&&(i=i.replace(/<div[^>]*>([\s\S\r\n]*)<\/div>/gim,d),i="\n"+be(i)+"\n"),i}return""},l=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t&&1<t.length?t[1].toString().replace(/[\n]/gm,"<br />").replace(/[\r]/gm,""):""},c=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t&&1<t.length?""+t[1]+se.a.escape(t[2]):""},p=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t&&1<t.length?be(t[1]):""};for(a=e.replace(/\u0002([\s\S]*)\u0002/gm,"‌$1‌").replace(/<p[^>]*><\/p>/gi,"").replace(/<pre[^>]*>([\s\S\r\n\t]*)<\/pre>/gim,l).replace(/[\s]+/gm," ").replace(/((?:href|data)\s?=\s?)("[^"]+?"|'[^']+?')/gim,c).replace(/<br[^>]*>/gim,"\n").replace(/<\/h[\d]>/gi,"\n").replace(/<\/p>/gi,"\n\n").replace(/<ul[^>]*>/gim,"\n").replace(/<\/ul>/gi,"\n").replace(/<li[^>]*>/gim," * ").replace(/<\/li>/gi,"\n").replace(/<\/td>/gi,"\n").replace(/<\/tr>/gi,"\n").replace(/<hr[^>]*>/gim,"\n_______________________________\n\n").replace(/<div[^>]*>([\s\S\r\n]*)<\/div>/gim,u).replace(/<blockquote[^>]*>/gim,"\n__bq__start__\n").replace(/<\/blockquote>/gim,"\n__bq__end__\n").replace(/<a [^>]*>([\s\S\r\n]*?)<\/a>/gim,p).replace(/<\/div>/gi,"\n").replace(/&nbsp;/gi," ").replace(/&quot;/gi,'"').replace(/<[^>]*>/gm,""),a=ce.$div.html(a).text(),a=a.replace(/\n[ \t]+/gm,"\n").replace(/[\n]{3,}/gm,"\n\n").replace(/&gt;/gi,">").replace(/&lt;/gi,"<").replace(/&amp;/gi,"&"),a=h(be(a)),t=0,r=800;r>0&&(r--,n=a.indexOf("__bq__start__",t),n>-1);)i=a.indexOf("__bq__start__",n+5),o=a.indexOf("__bq__end__",n+5),(-1===i||i>o)&&o>n?(a=a.substring(0,n)+s(a.substring(n+13,o))+a.substring(o+11),t=0):t=i>-1&&o>i?i-1:0;return a=a.replace(/__bq__start__/gm,"").replace(/__bq__end__/gm,"")}function j(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];e=e.toString().replace(/\r/g,"");var n=!1,i=!0,o=!0,r=[],a="",s=0,u=e.split("\n");do{for(i=!1,r=[],s=0;s<u.length;s++)a=u[s],o=">"===a.substr(0,1),o&&!n?(i=!0,n=!0,r.push("~~~blockquote~~~"),r.push(a.substr(1))):!o&&n?""!==a?(n=!1,r.push("~~~/blockquote~~~"),r.push(a)):r.push(a):o&&n?r.push(a.substr(1)):r.push(a);n&&(n=!1,r.push("~~~/blockquote~~~")),u=r}while(i);return e=u.join("\n"),e=e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/~~~blockquote~~~[\s]*/g,"<blockquote>").replace(/[\s]*~~~\/blockquote~~~/g,"</blockquote>").replace(/\u200C([\s\S]*)\u200C/g,"$1").replace(/\n/g,"<br />"),t?F(e):e}function H(e,t,n){var i=new ie.a.Image;i.onload=function(){var e=[0,0],i=ie.a.document.createElement("canvas"),o=i.getContext("2d");i.width=t,i.height=t,e=this.width>this.height?[this.width-this.height,0]:[0,this.height-this.width],o.fillStyle="#fff",o.fillRect(0,0,t,t),o.drawImage(this,e[0]/2,e[1]/2,this.width-e[0],this.height-e[1],0,0,t,t),n(i.toDataURL("image/jpeg"))},i.src=e}function G(e,t,n,i,r,a,s,u,l,c){var p=null,d=!1,f=0,g=0,h="   ",b=[];for(c=Ae(c)?!1:!!c,l=o(l)?l:0<e.length,r=o(r)?r:0,a=o(a)?a:null,s=o(s)?s:null,u=o(u)?u:null,ve(n)||(n=[]),ve(i)||(i=[]),f=0,g=i.length;g>f;f++)b.push({id:i[f][0],name:i[f][1],system:!1,seporator:!1,disabled:!1});for(d=!0,f=0,g=e.length;g>f;f++)p=e[f],(s?s.call(null,p):!0)&&(d&&0<b.length&&b.push({id:"---",name:"---",system:!1,seporator:!0,disabled:!0}),d=!1,b.push({id:p.fullNameRaw,name:u?u.call(null,p):p.name(),system:!0,seporator:!1,disabled:!p.selectable||-1<me(p.fullNameRaw,n)||(a?a.call(null,p):!1)}));for(d=!0,f=0,g=t.length;g>f;f++)p=t[f],!p.subScribed()&&p.existen&&!c||!p.selectable&&!p.hasSubScribedSubfolders()||(s?s.call(null,p):!0)&&(pe.FolderType.User!==p.type()&&l&&!p.hasSubScribedSubfolders()||(d&&0<b.length&&b.push({id:"---",name:"---",system:!1,seporator:!0,disabled:!0}),d=!1,b.push({id:p.fullNameRaw,name:new ie.a.Array(p.deep+1-r).join(h)+(u?u.call(null,p):p.name()),system:!1,seporator:!1,disabled:!p.selectable||-1<me(p.fullNameRaw,n)||(a?a.call(null,p):!1)}))),p.subScribed()&&0<p.subFolders().length&&(b=b.concat(G([],p.subFolders(),n,[],r,a,s,u,l,c)));return b}function V(e,t){return function(){var n=0,i=0,o=2,r=[],a=e(),s=t(),u=function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?"":arguments[2],i={current:e===a,name:Ae(n)||""===n?e.toString():n.toString(),custom:!Ae(n)&&""!==n,title:Ae(n)||""===n?"":e.toString(),value:e.toString()};t?r.push(i):r.unshift(i)};if(s>1||s>0&&a>s){for(a>s?(u(s),n=s,i=s):((3>=a||a>=s-2)&&(o+=2),u(a),n=a,i=a);o>0;)if(n-=1,i+=1,n>0&&(u(n,!1),o--),s>=i)u(i,!0),o--;else if(0>=n)break;3===n?u(2,!1):n>3&&u(ie.a.Math.round((n-1)/2),!1,"..."),s-2===i?u(s-1,!0):s-2>i&&u(ie.a.Math.round((s+i)/2),!0,"..."),n>1&&u(1,!1),s>i&&u(s,!0)}return r}}function B(e){var t=void 0,n=void 0;ie.a.getSelection?(t=ie.a.getSelection(),t.removeAllRanges(),n=ie.a.document.createRange(),n.selectNodeContents(e),t.addRange(n)):ie.a.document.selection&&(n=ie.a.document.body.createTextRange(),n.moveToElementText(e),n.select())}function q(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=function(){re.a.bind()(".checkAutocomplete").trigger("change")};e?se.a.delay(t,100):t()}function K(e){var t=[];se.a.each(e,function(e,n){t.push(""+e+"="+n)}),re.a.bind()("#app-head-viewport").attr("content",t.join(", "))}function z(e){e=be(e).toLowerCase();var t=e.split(".").pop();return t===e?"":t}function W(e){var t={};Ie[e]||(Ie[e]=re.a.bind()('script[type="application/json"][data-configuration="'+e+'"]'));try{t=JSON.parse(Ie[e].text())}catch(n){}return t}function $(e){var t="",n="application/octet-stream";return e=be(e).toLowerCase(),"winmail.dat"===e?"application/ms-tnef":(t=z(e),t&&0<t.length&&!Ae(he[t])&&(n=he[t]),n)}function Y(e,t){var n=t||e;n&&"function"==typeof n.dispose&&n.dispose()}function Q(e){e&&(ve(e.disposables)&&se.a.each(e.disposables,Y),le.a.utils.objectForEach(e,Y))}function X(e){e&&(ve(e)?se.a.each(e,function(e){X(e)}):e&&e.onDestroy&&e.onDestroy())}function J(e,t){return e&&e[0]?(e[0].styleSheet&&!Ae(e[0].styleSheet.cssText)?e[0].styleSheet.cssText=t:e.text(t),!0):!1}function Z(e,t){var n=re.a.bind()("#app-theme-link"),i=re.a.bind()("#app-theme-style"),o=n.attr("href");o||(o=i.attr("data-href")),o&&(o=o.toString().replace(/\/-\/[^\/]+\/\-\//,"/-/"+e+"/-/"),o=o.toString().replace(/\/Css\/[^\/]+\/User\//,"/Css/0/User/"),o=o.toString().replace(/\/Hash\/[^\/]+\//,"/Hash/-/"),"Json/"!==o.substring(o.length-5,o.length)&&(o+="Json/"),ie.a.clearTimeout(xe),t(pe.SaveSettingsStep.Animate),De&&De.abort&&De.abort(),De=re.a.ajax({url:o,dataType:"json"}).done(function(e){e&&ve(e)&&2===e.length&&(!n||!n[0]||i&&i[0]||(i=re.a.bind()('<style id="app-theme-style"></style>'),n.after(i),n.remove()),i&&i[0]&&J(i,e[1])&&i.attr("data-href",o).attr("data-theme",e[0]),t(pe.SaveSettingsStep.TrueResult))}).always(function(){xe=ie.a.setTimeout(function(){t(pe.SaveSettingsStep.Idle)},1e3),De=null}))}function ee(e,t){if(e&&"mailto:"===e.toString().substr(0,7).toLowerCase()){var i=function(){if(!t)return{v:!0};e=e.toString().substr(7);var i=[],o=null,r=null,a={},u=n(29),l=e.replace(/\?.+$/,""),c=e.replace(/^[^\?]*\?/,""),f=function(e){return e?se.a.compact(se.a.map(p(e).split(/[,]/),function(e){var t=new u;return t.mailsoParse(e),""!==t.email?t:null})):null};return i=f(l),a=d(c),Ae(a.cc)||(o=f(p(a.cc))),Ae(a.bcc)||(r=f(p(a.bcc))),n(4).showScreenPopup(t,[pe.ComposeType.Empty,null,i,o,r,Ae(a.subject)?null:s(p(a.subject)),Ae(a.body)?null:j(s(p(a.body)))]),{v:!0}}();if("object"===("undefined"==typeof i?"undefined":de(i)))return i.v}return!1}function te(){ke()}var ne=n(11),ie=ne&&ne.__esModule?function(){return ne["default"]}:function(){return ne};Object.defineProperty(ie,"a",{get:ie});var oe=n(13),re=oe&&oe.__esModule?function(){return oe["default"]}:function(){return oe};Object.defineProperty(re,"a",{get:re});var ae=n(2),se=ae&&ae.__esModule?function(){return ae["default"]}:function(){return ae};Object.defineProperty(se,"a",{get:se});var ue=n(1),le=ue&&ue.__esModule?function(){return ue["default"]}:function(){return ue};Object.defineProperty(le,"a",{get:le});var ce=n(7),pe=n(3);t.silentTryCatch=i,t.isNormal=o,t.isPosNumeric=r,t.pInt=a,t.pString=s,t.pBool=u,t.isNonEmptyArray=l,t.encodeURIComponent=c,t.decodeURIComponent=p,t.simpleQueryParser=d,t.fakeMd5=f,t.encodeHtml=g,t.splitPlainText=h,t.hos=b,t.inFocus=m,t.removeInFocus=v,t.removeSelection=S,t.replySubjectAdd=y,t.roundNumber=A,t.friendlySize=w,t.log=_,t.delegateRun=C,t.kill_CtrlA_CtrlS=T,t.createCommand=P,t.quoteName=E,t.microtime=O,t.timestamp=N,t.convertLangName=R,t.draggablePlace=I,t.defautOptionsAfterRender=x,t.windowPopupKnockout=D,t.settingsSaveHelperFunction=L,t.settingsSaveHelperSimpleFunction=k,t.settingsSaveHelperSubscribeFunction=M,t.findEmailAndLinks=F,t.htmlToPlain=U,t.plainToHtml=j,t.resizeAndCrop=H,t.folderListOptionsBuilder=G,t.computedPagenatorHelper=V,t.selectElement=B,t.triggerAutocompleteInputChange=q,t.setHeadViewport=K,t.getFileExtension=z,t.getConfigurationFromScriptTag=W,t.mimeContentType=$,t.disposeOne=Y,t.disposeObject=Q,t.delegateRunOnDestroy=X,t.appendStyles=J,t.changeTheme=Z,t.mailToHelper=ee,t.windowResizeCallback=te;var de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},fe=n(81),ge=n(80),he=n(67),be=re.a.trim,me=re.a.inArray,ve=se.a.isArray,Se=se.a.isObject,ye=se.a.isFunction,Ae=se.a.isUndefined,we=se.a.isNull,_e=function(){};Object.defineProperty(t,"isArray",{configurable:!1,enumerable:!0,get:function(){return ve}}),Object.defineProperty(t,"isObject",{configurable:!1,enumerable:!0,get:function(){return Se}}),Object.defineProperty(t,"isFunc",{configurable:!1,enumerable:!0,get:function(){return ye}}),Object.defineProperty(t,"isNull",{configurable:!1,enumerable:!0,get:function(){return we}}),Object.defineProperty(t,"noop",{configurable:!1,enumerable:!0,get:function(){return _e}}),Object.defineProperty(t,"emptyFunction",{configurable:!1,enumerable:!0,get:function(){return _e}}),Object.defineProperty(t,"trim",{configurable:!1,enumerable:!0,get:function(){return be}}),Object.defineProperty(t,"inArray",{configurable:!1,enumerable:!0,get:function(){return me}}),Object.defineProperty(t,"isUnd",{configurable:!1,enumerable:!0,get:function(){return Ae}});var Ce=null,Te=function(e,t){return e&&t&&(null===Ce||Ce&&Ce.__publicKey!==t)&&ie.a.crypto&&ie.a.crypto.getRandomValues?(Ce=new e,Ce.setPublicKey(t),Ce.__publicKey=t):Ce=!1,Ce},Pe=function(e,t){if(ie.a.crypto&&ie.a.crypto.getRandomValues&&t){var n=!1,i=Te(fe,t);if(i&&(n=i.encrypt(f()+":"+e+":"+f()),!1!==n&&o(n)))return"rsa:xxx:"+n}return e};Pe.supported=(ie.a.crypto&&ie.a.crypto.getRandomValues,!1),Object.defineProperty(t,"rsaEncode",{configurable:!1,enumerable:!0,get:function(){return Pe}});var Ee=function(){var e={};return function(t,n,i){e[t]=Ae(e[t])?0:e[t],ie.a.clearTimeout(e[t]),e[t]=ie.a.setTimeout(n,i)}}(),Oe=function(){var e={};return function(t,n,i){e[t]||(e[t]=ie.a.setTimeout(function(){n(),e[t]=0},i))}}();Object.defineProperty(t,"timeOutActionSecond",{configurable:!1,enumerable:!0,get:function(){return Oe}}),Object.defineProperty(t,"timeOutAction",{configurable:!1,enumerable:!0,get:function(){return Ee}});var Ne=se.a.memoize(function(e){return"@custom"===e.substr(-7)&&(e=be(e.substring(0,e.length-7))),be(e.replace(/[^a-zA-Z0-9]+/g," ").replace(/([A-Z])/g," $1").replace(/[\s]+/g," "))});Object.defineProperty(t,"convertThemeName",{configurable:!1,enumerable:!0,get:function(){return Ne}}),ie.a.rainloop_Utils_htmlToPlain=U,ie.a.rainloop_Utils_plainToHtml=j;var Re=se.a.debounce(function(){ce.dropdownVisibility.bind()(!!se.a.find(ce.data.aBootstrapDropdowns,function(e){return e.hasClass("open")}))},50);Object.defineProperty(t,"detectDropdownVisibility",{configurable:!1,enumerable:!0,get:function(){return Re}});var Ie={},xe=0,De=null,Le=ie.a.String.substr;"b"!=="ab".substr(-1)&&(Le=function(e,t,n){return t=0>t?e.length+t:t,e.substr(t,n)}),Object.defineProperty(t,"substr",{configurable:!1,enumerable:!0,get:function(){return Le}});var ke=se.a.debounce(function(e){Ae(e)||we(e)?ce.$win.resize():ie.a.setTimeout(function(){ce.$win.resize()},e)},50);Object.defineProperty(t,"windowResize",{configurable:!1,enumerable:!0,get:function(){return ke}})},function(e,t,n){!function(t){"use strict";var i=n(11),o=n(2),r=n(13),a=n(39),s=n(55),u=function(e){t.utils.domNodeDisposal.addDisposeCallback(e,function(){e&&e.__opentip&&e.__opentip.deactivate()})};t.bindingHandlers.updateWidth={init:function(e,n){var o=r(i),a=r(e),s=n(),u=function(){s(a.width()),i.setTimeout(function(){s(a.width())},500)};o.on("resize",u),u(),t.utils.domNodeDisposal.addDisposeCallback(e,function(){o.off("resize",u)})}},t.bindingHandlers.editor={init:function(e,i){var o=null,r=i(),a=function(){r&&r.__editor&&r.__editor.setHtmlOrPlain(r())},s=function(){r&&r.__editor&&r(r.__editor.getDataWithHtmlMark())},u=function(){r.__editor=o,a()},l=n(44);t.isObservable(r)&&l&&(o=new l(e,s,u,s),r.__fetchEditorValue=s,r.subscribe(a))}},t.bindingHandlers.json={init:function(e,n){r(e).text(a.stringify(t.unwrap(n())))},update:function(e,n){r(e).text(a.stringify(t.unwrap(n())))}},t.bindingHandlers.scrollerShadows={init:function(e){var n=8,a=r(e),s=r(i),u=a.find("[data-scroller-shadows-content]")[0]||null,l=o.throttle(function(){a.toggleClass("scroller-shadow-top",n<u.scrollTop).toggleClass("scroller-shadow-bottom",u.scrollTop+n<u.scrollHeight-u.clientHeight)},100);u&&(r(u).on("scroll resize",l),s.on("resize",l),t.utils.domNodeDisposal.addDisposeCallback(u,function(){r(u).off(),s.off("resize",l)}))}},t.bindingHandlers.tooltip={init:function(e,i){var a=!0,u="",l=null,c=r(e),p=i(),d="on"===(c.data("tooltip-mobile")||"off"),f=n(7);f.bMobileDevice&&!d||(a="on"===(c.data("tooltip-i18n")||"on"),u=!t.isObservable(p)&&o.isFunction(p)?p():t.unwrap(p),e.__opentip=new s(e,{style:"rainloopTip",element:e,tipJoint:c.data("tooltip-join")||"bottom"}),f.dropdownVisibility.subscribe(function(t){t&&e.__opentip.hide()}),""===u?(e.__opentip.hide(),e.__opentip.deactivate(),e.__opentip.setContent("")):e.__opentip.activate(),a?(l=n(5),e.__opentip.setContent(l.i18n(u)),l.trigger.subscribe(function(){e.__opentip.setContent(l.i18n(u))}),f.dropdownVisibility.subscribe(function(){e&&e.__opentip&&e.__opentip.setContent(n(5).i18n(u))})):e.__opentip.setContent(u))},update:function(e,i){var a=!0,s="",u=r(e),l=i(),c="on"===(u.data("tooltip-mobile")||"off"),p=n(7);p.bMobileDevice&&!c||!e.__opentip||(a="on"===(u.data("tooltip-i18n")||"on"),s=!t.isObservable(l)&&o.isFunction(l)?l():t.unwrap(l),s?(e.__opentip.setContent(a?n(5).i18n(s):s),e.__opentip.activate()):(e.__opentip.hide(),e.__opentip.deactivate(),e.__opentip.setContent("")))}},t.bindingHandlers.tooltipErrorTip={init:function(e){var t=r(e);e.__opentip=new s(e,{style:"rainloopErrorTip",hideOn:"mouseout click",element:e,tipJoint:t.data("tooltip-join")||"top"}),e.__opentip.deactivate(),r(i.document).on("click",function(){e&&e.__opentip&&e.__opentip.hide()}),u(e)},update:function(e,n){var i=r(e),a=n(),s=!t.isObservable(a)&&o.isFunction(a)?a():t.unwrap(a),u=e.__opentip;u&&(""===s?(u.hide(),u.deactivate(),u.setContent("")):o.delay(function(){i.is(":visible")?(u.setContent(s),u.activate(),u.show()):(u.hide(),u.deactivate(),u.setContent(""))},100))}},t.bindingHandlers.registrateBootstrapDropdown={init:function(e){var t=n(7);t&&t.data.aBootstrapDropdowns&&(t.data.aBootstrapDropdowns.push(r(e)),r(e).click(function(){n(0).detectDropdownVisibility()}))}},t.bindingHandlers.openDropdownTrigger={update:function(e,i){if(t.unwrap(i())){var o=r(e);o.hasClass("open")||o.find(".dropdown-toggle").dropdown("toggle"),o.find(".dropdown-toggle").focus(),n(0).detectDropdownVisibility(),i()(!1)}}},t.bindingHandlers.dropdownCloser={init:function(e){r(e).closest(".dropdown").on("click",".e-item",function(){r(e).dropdown("toggle")})}},t.bindingHandlers.popover={init:function(e,n){r(e).popover(t.unwrap(n())),t.utils.domNodeDisposal.addDisposeCallback(e,function(){r(e).popover("destroy")})}},t.bindingHandlers.csstext={init:function(e,n){e&&e.styleSheet&&void 0!==e.styleSheet.cssText?e.styleSheet.cssText=t.unwrap(n()):r(e).text(t.unwrap(n()))},update:function(e,n){e&&e.styleSheet&&void 0!==e.styleSheet.cssText?e.styleSheet.cssText=t.unwrap(n()):r(e).text(t.unwrap(n()))}},t.bindingHandlers.resizecrop={init:function(e){r(e).addClass("resizecrop").resizecrop({width:"100",height:"100",wrapperCSS:{"border-radius":"10px"}})},update:function(e,t){t()(),r(e).resizecrop({width:"100",height:"100"})}},t.bindingHandlers.onEnter={init:function(e,n,o,a){r(e).on("keypress.koOnEnter",function(t){t&&13===i.parseInt(t.keyCode,10)&&(r(e).trigger("change"),n().call(a))}),t.utils.domNodeDisposal.addDisposeCallback(e,function(){r(e).off("keypress.koOnEnter")})}},t.bindingHandlers.onSpace={init:function(e,n,o,a){r(e).on("keyup.koOnSpace",function(e){e&&32===i.parseInt(e.keyCode,10)&&n().call(a,e)}),t.utils.domNodeDisposal.addDisposeCallback(e,function(){r(e).off("keyup.koOnSpace")})}},t.bindingHandlers.onTab={init:function(e,n,o,a){r(e).on("keydown.koOnTab",function(e){return e&&9===i.parseInt(e.keyCode,10)?n().call(a,!!e.shiftKey):void 0}),t.utils.domNodeDisposal.addDisposeCallback(e,function(){r(e).off("keydown.koOnTab")})}},t.bindingHandlers.onEsc={init:function(e,n,o,a){r(e).on("keypress.koOnEsc",function(t){t&&27===i.parseInt(t.keyCode,10)&&(r(e).trigger("change"),n().call(a))}),t.utils.domNodeDisposal.addDisposeCallback(e,function(){r(e).off("keypress.koOnEsc")})}},t.bindingHandlers.clickOnTrue={update:function(e,n){t.unwrap(n())&&r(e).click()}},t.bindingHandlers.modal={init:function(e,i){var o=n(7),a=n(0);r(e).toggleClass("fade",!o.bMobileDevice).modal({keyboard:!1,show:t.unwrap(i())}).on("shown.koModal",a.windowResizeCallback).find(".close").on("click.koModal",function(){i()(!1)}),t.utils.domNodeDisposal.addDisposeCallback(e,function(){r(e).off("shown.koModal").find(".close").off("click.koModal")})},update:function(e,i){var a=n(7);r(e).modal(t.unwrap(i())?"show":"hide"),a.$html.hasClass("rl-anim")&&(a.$html.addClass("rl-modal-animation"),o.delay(function(){a.$html.removeClass("rl-modal-animation")},400))}},t.bindingHandlers.moment={init:function(e,i){n(25).momentToNode(r(e).addClass("moment").data("moment-time",t.unwrap(i())))},update:function(e,i){n(25).momentToNode(r(e).data("moment-time",t.unwrap(i())))}},t.bindingHandlers.i18nInit={init:function(e){n(5).i18nToNodes(e)}},t.bindingHandlers.translatorInit={init:function(e){n(5).i18nToNodes(e)}},t.bindingHandlers.i18nUpdate={update:function(e,i){t.unwrap(i()),n(5).i18nToNodes(e)}},t.bindingHandlers.link={update:function(e,n){r(e).attr("href",t.unwrap(n()))}},t.bindingHandlers.title={update:function(e,n){r(e).attr("title",t.unwrap(n()))}},t.bindingHandlers.textF={init:function(e,n){r(e).text(t.unwrap(n()))}},t.bindingHandlers.initDom={init:function(e,t){t()(e)}},t.bindingHandlers.initFixedTrigger={init:function(e,n){var o=t.unwrap(n()),a=null,s=r(e),u=null,l=o[1]||0;a=r(o[0]||null),a=a[0]?a:null,a&&r(i).resize(function(){u=a.offset(),u&&u.top&&s.css("top",u.top+l)})}},t.bindingHandlers.initResizeTrigger={init:function(e,n){var i=t.unwrap(n());r(e).css({height:i[1],"min-height":i[1]})},update:function(e,i){var o=n(0),a=n(7),s=t.unwrap(i()),u=o.pInt(s[1]),l=0,c=r(e).offset().top;c>0&&(c+=o.pInt(s[2]),l=a.$win.height()-c,l>u&&(u=l),r(e).css({height:u,"min-height":u}))}},t.bindingHandlers.appendDom={update:function(e,n){r(e).hide().empty().append(t.unwrap(n())).show()}},t.bindingHandlers.draggable={init:function(e,o,a){var s=n(7),u=n(0);if(!s.bMobileDevice){var l=100,c=3,p=a(),d=p&&p.droppableSelector?p.droppableSelector:"",f={distance:20,handle:".dragHandle",cursorAt:{top:22,left:3},refreshPositions:!0,scroll:!0};d&&(f.drag=function(e){r(d).each(function(){var t=null,n=null,o=r(this),a=o.offset(),s=a.top+o.height();i.clearInterval(o.data("timerScroll")),o.data("timerScroll",!1),e.pageX>=a.left&&e.pageX<=a.left+o.width()&&(e.pageY>=s-l&&e.pageY<=s&&(t=function(){o.scrollTop(o.scrollTop()+c),u.windowResize()},o.data("timerScroll",i.setInterval(t,10)),t()),e.pageY>=a.top&&e.pageY<=a.top+l&&(n=function(){o.scrollTop(o.scrollTop()-c),u.windowResize()},o.data("timerScroll",i.setInterval(n,10)),n()))})},f.stop=function(){r(d).each(function(){i.clearInterval(r(this).data("timerScroll")),r(this).data("timerScroll",!1)})}),f.helper=function(e){return o()(e&&e.target?t.dataFor(e.target):null)},r(e).draggable(f).on("mousedown.koDraggable",function(){u.removeInFocus()}),t.utils.domNodeDisposal.addDisposeCallback(e,function(){r(e).off("mousedown.koDraggable").draggable("destroy")})}}},t.bindingHandlers.droppable={init:function(e,i,o){var a=n(7);if(!a.bMobileDevice){var s=i(),u=o(),l=u&&u.droppableOver?u.droppableOver:null,c=u&&u.droppableOut?u.droppableOut:null,p={tolerance:"pointer",hoverClass:"droppableHover"};s&&(p.drop=function(e,t){s(e,t)},l&&(p.over=function(e,t){l(e,t)}),c&&(p.out=function(e,t){c(e,t)}),r(e).droppable(p),t.utils.domNodeDisposal.addDisposeCallback(e,function(){r(e).droppable("destroy")}))}}},t.bindingHandlers.nano={init:function(e){var t=n(7),i=n(8);t.bDisableNanoScroll||i.appSettingsGet("useNativeScrollbars")||r(e).addClass("nano").nanoScroller({iOSNativeScrolling:!1,preventPageScrolling:!0})}},t.bindingHandlers.saveTrigger={init:function(e){var t=r(e);t.data("save-trigger-type",t.is("input[type=text],input[type=email],input[type=password],select,textarea")?"input":"custom"),"custom"===t.data("save-trigger-type")?t.append('&nbsp;&nbsp;<i class="icon-spinner animated"></i><i class="icon-remove error"></i><i class="icon-ok success"></i>').addClass("settings-saved-trigger"):t.addClass("settings-saved-trigger-input")},update:function(e,n){var i=t.unwrap(n()),o=r(e);if("custom"===o.data("save-trigger-type"))switch(i.toString()){case"1":o.find(".animated,.error").hide().removeClass("visible").end().find(".success").show().addClass("visible");break;case"0":o.find(".animated,.success").hide().removeClass("visible").end().find(".error").show().addClass("visible");break;case"-2":o.find(".error,.success").hide().removeClass("visible").end().find(".animated").show().addClass("visible");break;default:o.find(".animated").hide().end().find(".error,.success").removeClass("visible")}else switch(i.toString()){case"1":o.addClass("success").removeClass("error");break;case"0":o.addClass("error").removeClass("success");break;case"-2":break;default:o.removeClass("error success")}}},t.bindingHandlers.emailsTags={init:function(e,t,i){var a=n(0),s=n(29),u=r(e),l=t(),c=i(),p=c.autoCompleteSource||null,d=function(e){l&&l.focused&&l.focused(!!e)};u.inputosaurus({parseOnBlur:!0,allowDragAndDrop:!0,focusCallback:d,inputDelimiters:[",",";","\n"],autoCompleteSource:p,parseHook:function(e){return o.map(e,function(e){var t=a.trim(e),n=null;return""!==t?(n=new s,n.mailsoParse(t),[n.toLine(!1),n]):[t,null]})},change:o.bind(function(e){u.data("EmailsTagsValue",e.target.value),l(e.target.value)},this)}),l&&l.focused&&l.focused.subscribe&&l.focused.subscribe(function(e){u.inputosaurus(e?"focus":"blur")})},update:function(e,n){var i=r(e),o=n(),a=t.unwrap(o);i.data("EmailsTagsValue")!==a&&(i.val(a),i.data("EmailsTagsValue",a),i.inputosaurus("refresh"))}},t.bindingHandlers.command={init:function(e,n,i,o){var a=r(e),s=n();if(!s||!s.enabled||!s.canExecute)throw new Error("You are not using command function");a.addClass("command"),t.bindingHandlers[a.is("form")?"submit":"click"].init.apply(o,Array.prototype.slice.call(arguments))},update:function(e,t){var n=!0,i=r(e),o=t();n=o.enabled(),i.toggleClass("command-not-enabled",!n),n&&(n=o.canExecute(),i.toggleClass("command-can-not-be-execute",!n)),i.toggleClass("command-disabled disable disabled",!n).toggleClass("no-disabled",!!n),(i.is("input")||i.is("button"))&&i.prop("disabled",!n)}},t.extenders.trimmer=function(e){var i=n(0),o=t.computed({read:e,write:function(t){e(i.trim(t.toString()))},owner:this});return o(e()),o},t.extenders.posInterer=function(e,i){var o=n(0),r=t.computed({read:e,write:function(t){var n=o.pInt(t.toString(),i);0>=n&&(n=i),n===e()&&""+n!=""+t&&e(n+1),e(n)}});return r(e()),r},t.extenders.limitedList=function(e,i){var o=n(0),r=t.computed({read:e,write:function(n){var r=t.unwrap(e),a=t.unwrap(i);o.isNonEmptyArray(a)?-1<o.inArray(n,a)?e(n):-1<o.inArray(r,a)?(e(r+" "),e(r)):(e(a[0]+" "),e(a[0])):e("")}}).extend({notify:"always"});return r(e()),r.valueHasMutated||(r.valueHasMutated=function(){e.valueHasMutated()}),r},t.extenders.reversible=function(e){var t=e();return e.commit=function(){t=e()},e.reverse=function(){e(t)},e.commitedValue=function(){return t},e},t.extenders.toggleSubscribe=function(e,t){return e.subscribe(t[1],t[0],"beforeChange"),e.subscribe(t[2],t[0]),e},t.extenders.toggleSubscribeProperty=function(e,t){var n=t[1];return n&&(e.subscribe(function(e){
e&&e[n]&&e[n](!1)},t[0],"beforeChange"),e.subscribe(function(e){e&&e[n]&&e[n](!0)},t[0])),e},t.extenders.falseTimeout=function(e,t){return e.iFalseTimeoutTimeout=0,e.subscribe(function(o){o&&(i.clearTimeout(e.iFalseTimeoutTimeout),e.iFalseTimeoutTimeout=i.setTimeout(function(){e(!1),e.iFalseTimeoutTimeout=0},n(0).pInt(t)))}),e},t.extenders.specialThrottle=function(e,o){return e.iSpecialThrottleTimeoutValue=n(0).pInt(o),0<e.iSpecialThrottleTimeoutValue?(e.iSpecialThrottleTimeout=0,e.valueForRead=t.observable(!!e()).extend({throttle:10}),t.computed({read:e.valueForRead,write:function(t){t?e.valueForRead(t):e.valueForRead()?(i.clearTimeout(e.iSpecialThrottleTimeout),e.iSpecialThrottleTimeout=i.setTimeout(function(){e.valueForRead(!1),e.iSpecialThrottleTimeout=0},e.iSpecialThrottleTimeoutValue)):e.valueForRead(t)}})):e},t.observable.fn.validateNone=function(){return this.hasError=t.observable(!1),this},t.observable.fn.validateEmail=function(){var e=n(0);return this.hasError=t.observable(!1),this.subscribe(function(t){t=e.trim(t),this.hasError(""!==t&&!/^[^@\s]+@[^@\s]+$/.test(t))},this),this.valueHasMutated(),this},t.observable.fn.validateSimpleEmail=function(){var e=n(0);return this.hasError=t.observable(!1),this.subscribe(function(t){t=e.trim(t),this.hasError(""!==t&&!/^.+@.+$/.test(t))},this),this.valueHasMutated(),this},t.observable.fn.deleteAccessHelper=function(){return this.extend({falseTimeout:3e3}).extend({toggleSubscribe:[null,function(e){e&&e.deleteAccess&&e.deleteAccess(!1)},function(e){e&&e.deleteAccess&&e.deleteAccess(!0)}]}),this},t.observable.fn.validateFunc=function(e){var i=n(0);return this.hasFuncError=t.observable(!1),i.isFunc(e)&&(this.subscribe(function(t){this.hasFuncError(!e(t))},this),this.valueHasMutated()),this},e.exports=t}(ko)},function(e,t){e.exports=window._},function(e,t,n){"use strict";var i={Unknown:"unknown",Text:"text",Html:"html",Code:"code",Eml:"eml",WordText:"word-text",Pdf:"pdf",Image:"image",Audio:"audio",Video:"video",Sheet:"sheet",Presentation:"presentation",Certificate:"certificate",CertificateBin:"certificate-bin",Archive:"archive"};Object.defineProperty(t,"FileType",{configurable:!1,enumerable:!0,get:function(){return i}});var o={Success:"success",Abort:"abort",Error:"error",Unload:"unload"};Object.defineProperty(t,"StorageResultType",{configurable:!1,enumerable:!0,get:function(){return o}});var r={None:"none",MessageList:"message-list",MessageView:"message-view",FolderList:"folder-list"};Object.defineProperty(t,"Focused",{configurable:!1,enumerable:!0,get:function(){return r}});var a={Empty:10,Login:20,Auth:30};Object.defineProperty(t,"State",{configurable:!1,enumerable:!0,get:function(){return a}});var s={Webmail:0,Admin:1};Object.defineProperty(t,"StateType",{configurable:!1,enumerable:!0,get:function(){return s}});var u={TwoFactor:"TWO_FACTOR",TwoFactorForce:"TWO_FACTOR_FORCE",OpenPGP:"OPEN_PGP",Prefetch:"PREFETCH",Gravatar:"GRAVATAR",Folders:"FOLDERS",Composer:"COMPOSER",Contacts:"CONTACTS",Reload:"RELOAD",Search:"SEARCH",SearchAdv:"SEARCH_ADV",MessageActions:"MESSAGE_ACTIONS",MessageListActions:"MESSAGELIST_ACTIONS",AttachmentsActions:"ATTACHMENTS_ACTIONS",DangerousActions:"DANGEROUS_ACTIONS",Settings:"SETTINGS",Help:"HELP",Themes:"THEMES",UserBackground:"USER_BACKGROUND",Sieve:"SIEVE",Filters:"FILTERS",AttachmentThumbnails:"ATTACHMENT_THUMBNAILS",Templates:"TEMPLATES",AutoLogout:"AUTOLOGOUT",AdditionalAccounts:"ADDITIONAL_ACCOUNTS",Identities:"IDENTITIES"};Object.defineProperty(t,"Capa",{configurable:!1,enumerable:!0,get:function(){return u}});var l={All:"all",None:"none",ContactList:"contact-list",MessageList:"message-list",FolderList:"folder-list",MessageView:"message-view",Compose:"compose",Settings:"settings",Menu:"menu",PopupComposeOpenPGP:"compose-open-pgp",PopupMessageOpenPGP:"message-open-pgp",PopupViewOpenPGP:"view-open-pgp",PopupKeyboardShortcutsHelp:"popup-keyboard-shortcuts-help",PopupAsk:"popup-ask"};Object.defineProperty(t,"KeyState",{configurable:!1,enumerable:!0,get:function(){return l}});var c={Inbox:10,SentItems:11,Draft:12,Trash:13,Spam:14,Archive:15,NotSpam:80,User:99};Object.defineProperty(t,"FolderType",{configurable:!1,enumerable:!0,get:function(){return c}});var p={USER:0,INBOX:1,SENT:2,DRAFTS:3,JUNK:4,TRASH:5,IMPORTANT:10,FLAGGED:11,ALL:12};Object.defineProperty(t,"ServerFolderType",{configurable:!1,enumerable:!0,get:function(){return p}});var d={DefaultOff:"defaultoff",DefaultOn:"defaulton",Unused:"unused"};Object.defineProperty(t,"LoginSignMeTypeAsString",{configurable:!1,enumerable:!0,get:function(){return d}});var f={DefaultOff:0,DefaultOn:1,Unused:2};Object.defineProperty(t,"LoginSignMeType",{configurable:!1,enumerable:!0,get:function(){return f}});var g={Empty:"empty",Reply:"reply",ReplyAll:"replyall",Forward:"forward",ForwardAsAttachment:"forward-as-attachment",Draft:"draft",EditAsNew:"editasnew"};Object.defineProperty(t,"ComposeType",{configurable:!1,enumerable:!0,get:function(){return g}});var h={Normal:0,FileIsTooBig:1,FilePartiallyUploaded:2,FileNoUploaded:3,MissingTempFolder:4,FileOnSaveingError:5,FileType:98,Unknown:99};Object.defineProperty(t,"UploadErrorCode",{configurable:!1,enumerable:!0,get:function(){return h}});var b={None:0,Sent:1,Draft:2,Spam:3,Trash:4,Archive:5};Object.defineProperty(t,"SetSystemFoldersNotification",{configurable:!1,enumerable:!0,get:function(){return b}});var m={FoldersLashHash:0,MessagesInboxLastHash:1,MailBoxListSize:2,ExpandedFolders:3,FolderListSize:4,MessageListSize:5,LastReplyAction:6,LastSignMe:7,ComposeLastIdentityID:8};Object.defineProperty(t,"ClientSideKeyName",{configurable:!1,enumerable:!0,get:function(){return m}});var v={Backspace:8,Tab:9,Enter:13,Esc:27,PageUp:33,PageDown:34,Left:37,Right:39,Up:38,Down:40,End:35,Home:36,Space:32,Insert:45,Delete:46,A:65,S:83};Object.defineProperty(t,"EventKeyCode",{configurable:!1,enumerable:!0,get:function(){return v}});var S={SetSeen:0,UnsetSeen:1,SetFlag:2,UnsetFlag:3};Object.defineProperty(t,"MessageSetAction",{configurable:!1,enumerable:!0,get:function(){return S}});var y={All:0,None:1,Invert:2,Unseen:3,Seen:4,Flagged:5,Unflagged:6};Object.defineProperty(t,"MessageSelectAction",{configurable:!1,enumerable:!0,get:function(){return y}});var A={Allowed:0,NotAllowed:1,Denied:2,NotSupported:9};Object.defineProperty(t,"DesktopNotification",{configurable:!1,enumerable:!0,get:function(){return A}});var w={Low:5,Normal:3,High:1};Object.defineProperty(t,"MessagePriority",{configurable:!1,enumerable:!0,get:function(){return w}});var _={Html:"Html",Plain:"Plain",HtmlForced:"HtmlForced",PlainForced:"PlainForced"};Object.defineProperty(t,"EditorDefaultType",{configurable:!1,enumerable:!0,get:function(){return _}});var C={None:0,SSL:1,TLS:2};Object.defineProperty(t,"ServerSecure",{configurable:!1,enumerable:!0,get:function(){return C}});var T={All:-1,Days3:3,Days7:7,Month:30};Object.defineProperty(t,"SearchDateType",{configurable:!1,enumerable:!0,get:function(){return T}});var P={Animate:-2,Idle:-1,TrueResult:1,FalseResult:0};Object.defineProperty(t,"SaveSettingsStep",{configurable:!1,enumerable:!0,get:function(){return P}});var E={NoPreview:0,SidePreview:1,BottomPreview:2,Mobile:3};Object.defineProperty(t,"Layout",{configurable:!1,enumerable:!0,get:function(){return E}});var O={From:"From",Recipient:"Recipient",Subject:"Subject",Header:"Header",Size:"Size"};Object.defineProperty(t,"FilterConditionField",{configurable:!1,enumerable:!0,get:function(){return O}});var N={Contains:"Contains",NotContains:"NotContains",EqualTo:"EqualTo",NotEqualTo:"NotEqualTo",Regex:"Regex",Over:"Over",Under:"Under"};Object.defineProperty(t,"FilterConditionType",{configurable:!1,enumerable:!0,get:function(){return N}});var R={None:"None",MoveTo:"MoveTo",Discard:"Discard",Vacation:"Vacation",Reject:"Reject",Forward:"Forward"};Object.defineProperty(t,"FiltersAction",{configurable:!1,enumerable:!0,get:function(){return R}});var I={All:"All",Any:"Any"};Object.defineProperty(t,"FilterRulesType",{configurable:!1,enumerable:!0,get:function(){return I}});var x={UnknownPublicKeys:-4,UnknownPrivateKey:-3,Unverified:-2,Error:-1,None:0,Success:1};Object.defineProperty(t,"SignedVerifyStatus",{configurable:!1,enumerable:!0,get:function(){return x}});var D={Unknown:0,FullName:10,FirstName:15,LastName:16,MiddleName:16,Nick:18,NamePrefix:20,NameSuffix:21,Email:30,Phone:31,Web:32,Birthday:40,Facebook:90,Skype:91,GitHub:92,Note:110,Custom:250};Object.defineProperty(t,"ContactPropertyType",{configurable:!1,enumerable:!0,get:function(){return D}});var L={InvalidToken:101,AuthError:102,AccessError:103,ConnectionError:104,CaptchaError:105,SocialFacebookLoginAccessDisable:106,SocialTwitterLoginAccessDisable:107,SocialGoogleLoginAccessDisable:108,DomainNotAllowed:109,AccountNotAllowed:110,AccountTwoFactorAuthRequired:120,AccountTwoFactorAuthError:121,CouldNotSaveNewPassword:130,CurrentPasswordIncorrect:131,NewPasswordShort:132,NewPasswordWeak:133,NewPasswordForbidden:134,ContactsSyncError:140,CantGetMessageList:201,CantGetMessage:202,CantDeleteMessage:203,CantMoveMessage:204,CantCopyMessage:205,CantSaveMessage:301,CantSendMessage:302,InvalidRecipients:303,CantSaveFilters:351,CantGetFilters:352,FiltersAreNotCorrect:355,CantCreateFolder:400,CantRenameFolder:401,CantDeleteFolder:402,CantSubscribeFolder:403,CantUnsubscribeFolder:404,CantDeleteNonEmptyFolder:405,CantSaveSettings:501,CantSavePluginSettings:502,DomainAlreadyExists:601,CantInstallPackage:701,CantDeletePackage:702,InvalidPluginPackage:703,UnsupportedPluginPackage:704,LicensingServerIsUnavailable:710,LicensingExpired:711,LicensingBanned:712,DemoSendMessageError:750,DemoAccountError:751,AccountAlreadyExists:801,AccountDoesNotExist:802,MailServerError:901,ClientViewError:902,InvalidInputArgument:903,AjaxFalse:950,AjaxAbort:951,AjaxParse:952,AjaxTimeout:953,UnknownNotification:999,UnknownError:999};Object.defineProperty(t,"Notification",{configurable:!1,enumerable:!0,get:function(){return L}})},function(e,t,n){!function(){"use strict";function t(){this.oScreens={},this.sDefaultScreenName="",this.oCurrentScreen=null}var i=n(2),o=n(13),r=n(1),a=n(83),s=n(48),u=n(7),l=n(22),c=n(0);t.prototype.oScreens={},t.prototype.sDefaultScreenName="",t.prototype.oCurrentScreen=null,t.prototype.hideLoading=function(){o("#rl-content").addClass("rl-content-show"),o("#rl-loading").hide().remove()},t.prototype.constructorEnd=function(e){c.isFunc(e.__constructor_end)&&e.__constructor_end.call(e)},t.prototype.extendAsViewModel=function(e,t){t&&(c.isArray(e)?t.__names=e:t.__names=[e],t.__name=t.__names[0])},t.prototype.addSettingsViewModel=function(e,t,n,i,o){e.__rlSettingsData={Label:n,Template:t,Route:i,IsDefault:!!o},u.aViewModels.settings.push(e)},t.prototype.removeSettingsViewModel=function(e){u.aViewModels["settings-removed"].push(e)},t.prototype.disableSettingsViewModel=function(e){u.aViewModels["settings-disabled"].push(e)},t.prototype.routeOff=function(){a.changed.active=!1},t.prototype.routeOn=function(){a.changed.active=!0},t.prototype.screen=function(e){return""===e||c.isUnd(this.oScreens[e])?null:this.oScreens[e]},t.prototype.buildViewModel=function(e,t){if(e&&!e.__builded){var n=this,a=new e(t),s=a.viewModelPosition(),p=o("#rl-content #rl-"+s.toLowerCase()),d=null;e.__builded=!0,e.__vm=a,a.onShowTrigger=r.observable(!1),a.onHideTrigger=r.observable(!1),a.viewModelName=e.__name,a.viewModelNames=e.__names,p&&1===p.length?(d=o("<div></div>").addClass("rl-view-model").addClass("RL-"+a.viewModelTemplate()).hide(),d.appendTo(p),a.viewModelDom=d,e.__dom=d,"Popups"===s&&(a.cancelCommand=a.closeCommand=c.createCommand(a,function(){n.hideScreenPopup(e)}),a.modalVisibility.subscribe(function(e){var t=this;e?(this.viewModelDom.show(),this.storeAndSetKeyScope(),u.popupVisibilityNames.push(this.viewModelName),a.viewModelDom.css("z-index",3e3+u.popupVisibilityNames().length+10),this.onShowTrigger&&this.onShowTrigger(!this.onShowTrigger()),c.delegateRun(this,"onShowWithDelay",[],500)):(c.delegateRun(this,"onHide"),c.delegateRun(this,"onHideWithDelay",[],500),this.onHideTrigger&&this.onHideTrigger(!this.onHideTrigger()),this.restoreKeyScope(),i.each(this.viewModelNames,function(e){l.runHook("view-model-on-hide",[e,t])}),u.popupVisibilityNames.remove(this.viewModelName),a.viewModelDom.css("z-index",2e3),i.delay(function(){t.viewModelDom.hide()},300))},a)),i.each(e.__names,function(e){l.runHook("view-model-pre-build",[e,a,d])}),r.applyBindingAccessorsToNode(d[0],{translatorInit:!0,template:function(){return{name:a.viewModelTemplate()}}},a),c.delegateRun(a,"onBuild",[d]),a&&"Popups"===s&&a.registerPopupKeyDown(),i.each(e.__names,function(e){l.runHook("view-model-post-build",[e,a,d])})):c.log("Cannot find view model position: "+s)}return e?e.__vm:null},t.prototype.hideScreenPopup=function(e){e&&e.__vm&&e.__dom&&e.__vm.modalVisibility(!1)},t.prototype.showScreenPopup=function(e,t){e&&(this.buildViewModel(e),e.__vm&&e.__dom&&(c.delegateRun(e.__vm,"onBeforeShow",t||[]),e.__vm.modalVisibility(!0),c.delegateRun(e.__vm,"onShow",t||[]),i.each(e.__names,function(n){l.runHook("view-model-on-show",[n,e.__vm,t||[]])})))},t.prototype.isPopupVisible=function(e){return e&&e.__vm?e.__vm.modalVisibility():!1},t.prototype.screenOnRoute=function(e,t){var n=this,o=null,r=!1,a=null;""===c.pString(e)&&(e=this.sDefaultScreenName),""!==e&&(o=this.screen(e),o||(o=this.screen(this.sDefaultScreenName),o&&(t=e+"/"+t,e=this.sDefaultScreenName)),o&&o.__started&&(r=this.oCurrentScreen&&o===this.oCurrentScreen,o.__builded||(o.__builded=!0,c.isNonEmptyArray(o.viewModels())&&i.each(o.viewModels(),function(e){this.buildViewModel(e,o)},this),c.delegateRun(o,"onBuild")),i.defer(function(){n.oCurrentScreen&&!r&&(c.delegateRun(n.oCurrentScreen,"onHide"),c.delegateRun(n.oCurrentScreen,"onHideWithDelay",[],500),n.oCurrentScreen.onHideTrigger&&n.oCurrentScreen.onHideTrigger(!n.oCurrentScreen.onHideTrigger()),c.isNonEmptyArray(n.oCurrentScreen.viewModels())&&i.each(n.oCurrentScreen.viewModels(),function(e){e.__vm&&e.__dom&&"Popups"!==e.__vm.viewModelPosition()&&(e.__dom.hide(),e.__vm.viewModelVisibility(!1),c.delegateRun(e.__vm,"onHide"),c.delegateRun(e.__vm,"onHideWithDelay",[],500),e.__vm.onHideTrigger&&e.__vm.onHideTrigger(!e.__vm.onHideTrigger()))})),n.oCurrentScreen=o,n.oCurrentScreen&&!r&&(c.delegateRun(n.oCurrentScreen,"onShow"),n.oCurrentScreen.onShowTrigger&&n.oCurrentScreen.onShowTrigger(!n.oCurrentScreen.onShowTrigger()),l.runHook("screen-on-show",[n.oCurrentScreen.screenName(),n.oCurrentScreen]),c.isNonEmptyArray(n.oCurrentScreen.viewModels())&&i.each(n.oCurrentScreen.viewModels(),function(e){e.__vm&&e.__dom&&"Popups"!==e.__vm.viewModelPosition()&&(c.delegateRun(e.__vm,"onBeforeShow"),e.__dom.show(),e.__vm.viewModelVisibility(!0),c.delegateRun(e.__vm,"onShow"),e.__vm.onShowTrigger&&e.__vm.onShowTrigger(!e.__vm.onShowTrigger()),c.delegateRun(e.__vm,"onShowWithDelay",[],200),i.each(e.__names,function(t){l.runHook("view-model-on-show",[t,e.__vm])}))},n)),a=o.__cross?o.__cross():null,a&&a.parse(t)})))},t.prototype.startScreens=function(e){i.each(e,function(e){if(e){var t=new e,n=t?t.screenName():"";t&&""!==n&&(""===this.sDefaultScreenName&&(this.sDefaultScreenName=n),this.oScreens[n]=t)}},this),i.each(this.oScreens,function(e){e&&!e.__started&&e.__start&&(e.__started=!0,e.__start(),l.runHook("screen-pre-start",[e.screenName(),e]),c.delegateRun(e,"onStart"),l.runHook("screen-post-start",[e.screenName(),e]))},this);var t=s.create();t.addRoute(/^([a-zA-Z0-9\-]*)\/?(.*)$/,i.bind(this.screenOnRoute,this)),a.initialized.add(t.parse,t),a.changed.add(t.parse,t),a.init(),i.delay(function(){u.$html.removeClass("rl-started-trigger").addClass("rl-started")},100),i.delay(function(){u.$html.addClass("rl-started-delay")},200)},t.prototype.setHash=function(e,t,n){e="#"===e.substr(0,1)?e.substr(1):e,e="/"===e.substr(0,1)?e.substr(1):e,n=c.isUnd(n)?!1:!!n,(c.isUnd(t)?1:!t)?(a.changed.active=!0,a[n?"replaceHash":"setHash"](e),a.setHash(e)):(a.changed.active=!1,a[n?"replaceHash":"setHash"](e),a.changed.active=!0)},e.exports=new t}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(10),r=n(1),a=r&&r.__esModule?function(){return r["default"]}:function(){return r};Object.defineProperty(a,"a",{get:a});var s=n(3),u=n(0),l=n(7),c=function(){function e(){i(this,e),this.data={},this.notificationI18N={},this.data=o.b.rainloopI18N||{},this.trigger=a.a.observable(!1),this.i18n=o.c.bind(this.i18n,this),this.init()}return e.prototype.i18n=function(e,t,n){var i="",r=this.data[e];if(o.c.isUndefined(r)&&(r=o.c.isUndefined(n)?e:n),!o.c.isUndefined(t)&&!o.c.isNull(t))for(i in t)o.c.has(t,i)&&(r=r.replace("%"+i+"%",t[i]));return r},e.prototype.i18nToNode=function(e){var t=o.a.bind()(e),n=t.data("i18n");if(n)if("["===n.substr(0,1))switch(n.substr(0,6)){case"[html]":t.html(this.i18n(n.substr(6)));break;case"[place":t.attr("placeholder",this.i18n(n.substr(13)));break;case"[title":t.attr("title",this.i18n(n.substr(7)))}else t.text(this.i18n(n))},e.prototype.i18nToNodes=function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];o.c.defer(function(){o.a.bind()("[data-i18n]",e).each(function(e,n){t.i18nToNode(n)}),n&&l.bAnimationSupported&&o.a.bind()(".i18n-animation[data-i18n]",e).letterfx({fx:"fall fade",backwards:!1,timing:50,fx_duration:"50ms",letter_end:"restore",element_end:"restore"})})},e.prototype.reloadData=function(){o.b.rainloopI18N&&(this.data=o.b.rainloopI18N||{},this.i18nToNodes(o.b.document,!0),n(25).reload(),this.trigger(!this.trigger())),o.b.rainloopI18N=null},e.prototype.initNotificationLanguage=function(){var e=this,t=[[s.Notification.InvalidToken,"NOTIFICATIONS/INVALID_TOKEN"],[s.Notification.InvalidToken,"NOTIFICATIONS/INVALID_TOKEN"],[s.Notification.AuthError,"NOTIFICATIONS/AUTH_ERROR"],[s.Notification.AccessError,"NOTIFICATIONS/ACCESS_ERROR"],[s.Notification.ConnectionError,"NOTIFICATIONS/CONNECTION_ERROR"],[s.Notification.CaptchaError,"NOTIFICATIONS/CAPTCHA_ERROR"],[s.Notification.SocialFacebookLoginAccessDisable,"NOTIFICATIONS/SOCIAL_FACEBOOK_LOGIN_ACCESS_DISABLE"],[s.Notification.SocialTwitterLoginAccessDisable,"NOTIFICATIONS/SOCIAL_TWITTER_LOGIN_ACCESS_DISABLE"],[s.Notification.SocialGoogleLoginAccessDisable,"NOTIFICATIONS/SOCIAL_GOOGLE_LOGIN_ACCESS_DISABLE"],[s.Notification.DomainNotAllowed,"NOTIFICATIONS/DOMAIN_NOT_ALLOWED"],[s.Notification.AccountNotAllowed,"NOTIFICATIONS/ACCOUNT_NOT_ALLOWED"],[s.Notification.AccountTwoFactorAuthRequired,"NOTIFICATIONS/ACCOUNT_TWO_FACTOR_AUTH_REQUIRED"],[s.Notification.AccountTwoFactorAuthError,"NOTIFICATIONS/ACCOUNT_TWO_FACTOR_AUTH_ERROR"],[s.Notification.CouldNotSaveNewPassword,"NOTIFICATIONS/COULD_NOT_SAVE_NEW_PASSWORD"],[s.Notification.CurrentPasswordIncorrect,"NOTIFICATIONS/CURRENT_PASSWORD_INCORRECT"],[s.Notification.NewPasswordShort,"NOTIFICATIONS/NEW_PASSWORD_SHORT"],[s.Notification.NewPasswordWeak,"NOTIFICATIONS/NEW_PASSWORD_WEAK"],[s.Notification.NewPasswordForbidden,"NOTIFICATIONS/NEW_PASSWORD_FORBIDDENT"],[s.Notification.ContactsSyncError,"NOTIFICATIONS/CONTACTS_SYNC_ERROR"],[s.Notification.CantGetMessageList,"NOTIFICATIONS/CANT_GET_MESSAGE_LIST"],[s.Notification.CantGetMessage,"NOTIFICATIONS/CANT_GET_MESSAGE"],[s.Notification.CantDeleteMessage,"NOTIFICATIONS/CANT_DELETE_MESSAGE"],[s.Notification.CantMoveMessage,"NOTIFICATIONS/CANT_MOVE_MESSAGE"],[s.Notification.CantCopyMessage,"NOTIFICATIONS/CANT_MOVE_MESSAGE"],[s.Notification.CantSaveMessage,"NOTIFICATIONS/CANT_SAVE_MESSAGE"],[s.Notification.CantSendMessage,"NOTIFICATIONS/CANT_SEND_MESSAGE"],[s.Notification.InvalidRecipients,"NOTIFICATIONS/INVALID_RECIPIENTS"],[s.Notification.CantSaveFilters,"NOTIFICATIONS/CANT_SAVE_FILTERS"],[s.Notification.CantGetFilters,"NOTIFICATIONS/CANT_GET_FILTERS"],[s.Notification.FiltersAreNotCorrect,"NOTIFICATIONS/FILTERS_ARE_NOT_CORRECT"],[s.Notification.CantCreateFolder,"NOTIFICATIONS/CANT_CREATE_FOLDER"],[s.Notification.CantRenameFolder,"NOTIFICATIONS/CANT_RENAME_FOLDER"],[s.Notification.CantDeleteFolder,"NOTIFICATIONS/CANT_DELETE_FOLDER"],[s.Notification.CantDeleteNonEmptyFolder,"NOTIFICATIONS/CANT_DELETE_NON_EMPTY_FOLDER"],[s.Notification.CantSubscribeFolder,"NOTIFICATIONS/CANT_SUBSCRIBE_FOLDER"],[s.Notification.CantUnsubscribeFolder,"NOTIFICATIONS/CANT_UNSUBSCRIBE_FOLDER"],[s.Notification.CantSaveSettings,"NOTIFICATIONS/CANT_SAVE_SETTINGS"],[s.Notification.CantSavePluginSettings,"NOTIFICATIONS/CANT_SAVE_PLUGIN_SETTINGS"],[s.Notification.DomainAlreadyExists,"NOTIFICATIONS/DOMAIN_ALREADY_EXISTS"],[s.Notification.CantInstallPackage,"NOTIFICATIONS/CANT_INSTALL_PACKAGE"],[s.Notification.CantDeletePackage,"NOTIFICATIONS/CANT_DELETE_PACKAGE"],[s.Notification.InvalidPluginPackage,"NOTIFICATIONS/INVALID_PLUGIN_PACKAGE"],[s.Notification.UnsupportedPluginPackage,"NOTIFICATIONS/UNSUPPORTED_PLUGIN_PACKAGE"],[s.Notification.LicensingServerIsUnavailable,"NOTIFICATIONS/LICENSING_SERVER_IS_UNAVAILABLE"],[s.Notification.LicensingExpired,"NOTIFICATIONS/LICENSING_EXPIRED"],[s.Notification.LicensingBanned,"NOTIFICATIONS/LICENSING_BANNED"],[s.Notification.DemoSendMessageError,"NOTIFICATIONS/DEMO_SEND_MESSAGE_ERROR"],[s.Notification.DemoAccountError,"NOTIFICATIONS/DEMO_ACCOUNT_ERROR"],[s.Notification.AccountAlreadyExists,"NOTIFICATIONS/ACCOUNT_ALREADY_EXISTS"],[s.Notification.AccountDoesNotExist,"NOTIFICATIONS/ACCOUNT_DOES_NOT_EXIST"],[s.Notification.MailServerError,"NOTIFICATIONS/MAIL_SERVER_ERROR"],[s.Notification.InvalidInputArgument,"NOTIFICATIONS/INVALID_INPUT_ARGUMENT"],[s.Notification.UnknownNotification,"NOTIFICATIONS/UNKNOWN_ERROR"],[s.Notification.UnknownError,"NOTIFICATIONS/UNKNOWN_ERROR"]];this.notificationI18N=this.notificationI18N||{},t.forEach(function(t){e.notificationI18N[t[0]]=e.i18n(t[1])})},e.prototype.initOnStartOrLangChange=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];e&&e.call(t),n?this.trigger.subscribe(function(){e&&e.call(t),n.call(t)}):e&&this.trigger.subscribe(e,t)},e.prototype.getNotification=function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return e=o.b.parseInt(e,10)||0,s.Notification.ClientViewError===e&&t?t:(n=n?o.b.parseInt(n,10)||0:0,o.c.isUndefined(this.notificationI18N[e])?n&&o.c.isUndefined(this.notificationI18N[n])?this.notificationI18N[n]:"":this.notificationI18N[e])},e.prototype.getNotificationFromResponse=function(e){var t=arguments.length<=1||void 0===arguments[1]?s.Notification.UnknownNotification:arguments[1];return e&&e.ErrorCode?this.getNotification(u.pInt.bind()(e.ErrorCode),e.ErrorMessage||""):this.getNotification(t)},e.prototype.getUploadErrorDescByCode=function(e){var t="";switch(o.b.parseInt(e,10)||0){case s.UploadErrorCode.FileIsTooBig:t=this.i18n("UPLOAD/ERROR_FILE_IS_TOO_BIG");break;case s.UploadErrorCode.FilePartiallyUploaded:t=this.i18n("UPLOAD/ERROR_FILE_PARTIALLY_UPLOADED");break;case s.UploadErrorCode.FileNoUploaded:t=this.i18n("UPLOAD/ERROR_NO_FILE_UPLOADED");break;case s.UploadErrorCode.MissingTempFolder:t=this.i18n("UPLOAD/ERROR_MISSING_TEMP_FOLDER");break;case s.UploadErrorCode.FileOnSaveingError:t=this.i18n("UPLOAD/ERROR_ON_SAVING_FILE");break;case s.UploadErrorCode.FileType:t=this.i18n("UPLOAD/ERROR_FILE_TYPE");break;default:t=this.i18n("UPLOAD/ERROR_UNKNOWN")}return t},e.prototype.reload=function(e,t,i,r){var a=this,s=u.microtime.bind()();l.$html.addClass("rl-changing-language"),o.a.ajax({url:n(12).langLink(t,e),dataType:"script",cache:!0}).fail(r||u.noop).done(function(){o.c.delay(function(){a.reloadData(),(i||u.noop)();var e=-1<u.inArray.bind()(t,["ar","ar_sa","he","he_he","ur","ur_ir"]);l.$html.removeClass("rl-changing-language").removeClass("rl-rtl rl-ltr").addClass(e?"rl-rtl":"rl-ltr")},500<u.microtime.bind()()-s?1:500)})},e.prototype.init=function(){l.$html.addClass("rl-"+(l.$html.attr("dir")||"ltr"))},e}();e.exports=new c},,function(e,t,n){"use strict";var i=n(10),o=n(1),r=o&&o.__esModule?function(){return o["default"]}:function(){return o};Object.defineProperty(r,"a",{get:r});var a=n(3),s=i.a.bind()(i.b);s.__sizes=[0,0],Object.defineProperty(t,"$win",{configurable:!1,enumerable:!0,get:function(){return s}});var u=i.a.bind()(i.b.document);Object.defineProperty(t,"$doc",{configurable:!1,enumerable:!0,get:function(){return u}});var l=i.a.bind()("html");Object.defineProperty(t,"$html",{configurable:!1,enumerable:!0,get:function(){return l}});var c=i.a.bind()("body");Object.defineProperty(t,"$body",{configurable:!1,enumerable:!0,get:function(){return c}});var p=i.a.bind()("<div></div>");Object.defineProperty(t,"$div",{configurable:!1,enumerable:!0,get:function(){return p}});var d=(new i.b.Date).getTime();Object.defineProperty(t,"startMicrotime",{configurable:!1,enumerable:!0,get:function(){return d}});var f=!0;Object.defineProperty(t,"community",{configurable:!1,enumerable:!0,get:function(){return f}});var g=r.a.observable(!1).extend({rateLimit:0});Object.defineProperty(t,"dropdownVisibility",{configurable:!1,enumerable:!0,get:function(){return g}});var h=r.a.observable(!0);Object.defineProperty(t,"useKeyboardShortcuts",{configurable:!1,enumerable:!0,get:function(){return h}});var b="navigator"in i.b&&"userAgent"in i.b.navigator&&i.b.navigator.userAgent.toLowerCase()||"";Object.defineProperty(t,"sUserAgent",{configurable:!1,enumerable:!0,get:function(){return b}});var m=b.indexOf("msie")>-1;Object.defineProperty(t,"bIE",{configurable:!1,enumerable:!0,get:function(){return m}});var v=b.indexOf("chrome")>-1;Object.defineProperty(t,"bChrome",{configurable:!1,enumerable:!0,get:function(){return v}});var S=!v&&b.indexOf("safari")>-1;Object.defineProperty(t,"bSafari",{configurable:!1,enumerable:!0,get:function(){return S}});var y=/android/i.test(b)||/iphone/i.test(b)||/ipod/i.test(b)||/ipad/i.test(b)||/blackberry/i.test(b);Object.defineProperty(t,"bMobileDevice",{configurable:!1,enumerable:!0,get:function(){return y}});var A=y;Object.defineProperty(t,"bDisableNanoScroll",{configurable:!1,enumerable:!0,get:function(){return A}});var w=!y&&l.hasClass("csstransitions")&&l.hasClass("cssanimations");Object.defineProperty(t,"bAnimationSupported",{configurable:!1,enumerable:!0,get:function(){return w}});var _=!!i.b.XMLHttpRequest;Object.defineProperty(t,"bXMLHttpRequestSupported",{configurable:!1,enumerable:!0,get:function(){return _}});var C={title:!1,stylesSet:!1,customConfig:"",contentsCss:"",toolbarGroups:[{name:"spec"},{name:"styles"},{name:"basicstyles",groups:["basicstyles","cleanup","bidi"]},{name:"colors"},y?{}:{name:"paragraph",groups:["list","indent","blocks","align"]},{name:"links"},{name:"insert"},{name:"document",groups:["mode","document","doctools"]},{name:"others"}],removePlugins:"liststyle",removeButtons:"Format,Undo,Redo,Cut,Copy,Paste,Anchor,Strike,Subscript,Superscript,Image,SelectAll,Source",removeDialogTabs:"link:advanced;link:target;image:advanced;images:advanced",extraPlugins:"plain,signature",allowedContent:!0,extraAllowedContent:!0,fillEmptyBlocks:!1,ignoreEmptyParagraph:!0,disableNativeSpellChecker:!1,font_defaultLabel:"Arial",fontSize_defaultLabel:"13",fontSize_sizes:"10/10px;12/12px;13/13px;14/14px;16/16px;18/18px;20/20px;24/24px;28/28px;36/36px;48/48px"};Object.defineProperty(t,"oHtmlEditorDefaultConfig",{configurable:!1,enumerable:!0,get:function(){return C}});var T={bg_bg:"bg",de_de:"de",el_gr:"el",es_es:"es",fr_fr:"fr",hu_hu:"hu",is_is:"is",it_it:"it",ja_jp:"ja",ko_kr:"ko",lt_lt:"lt",lv_lv:"lv",nl_nl:"nl",bg_no:"no",pl_pl:"pl",pt_pt:"pt",pt_br:"pt-br",ro_ro:"ro",ru_ru:"ru",sk_sk:"sk",sl_si:"sl",sv_se:"sv",tr_tr:"tr",uk_ua:"ru",zh_tw:"zh",zh_cn:"zh-cn"};Object.defineProperty(t,"oHtmlEditorLangsMap",{configurable:!1,enumerable:!0,get:function(){return T}});var P=!y;P&&i.b.navigator&&i.b.navigator.mimeTypes&&(P=!!i.c.find(i.b.navigator.mimeTypes,function(e){return e&&"application/pdf"===e.type}),P||(P="undefined"!=typeof i.b.navigator.mimeTypes["application/pdf"])),Object.defineProperty(t,"bAllowPdfPreview",{configurable:!1,enumerable:!0,get:function(){return P}});var E={settings:[],"settings-removed":[],"settings-disabled":[]};Object.defineProperty(t,"aViewModels",{configurable:!1,enumerable:!0,get:function(){return E}});var O=r.a.observable(!1);Object.defineProperty(t,"leftPanelDisabled",{configurable:!1,enumerable:!0,get:function(){return O}});var N=r.a.observable("");Object.defineProperty(t,"leftPanelType",{configurable:!1,enumerable:!0,get:function(){return N}});var R=r.a.observable(0);Object.defineProperty(t,"leftPanelWidth",{configurable:!1,enumerable:!0,get:function(){return R}});var I=r.a.observableArray([]);Object.defineProperty(t,"popupVisibilityNames",{configurable:!1,enumerable:!0,get:function(){return I}});var x=r.a.computed(function(){return 0<I().length});Object.defineProperty(t,"popupVisibility",{configurable:!1,enumerable:!0,get:function(){return x}}),x.subscribe(function(e){l.toggleClass("rl-modal",e)});var D=r.a.observable(a.KeyState.All);Object.defineProperty(t,"keyScopeReal",{configurable:!1,enumerable:!0,get:function(){return D}});var L=r.a.observable(a.KeyState.All);Object.defineProperty(t,"keyScopeFake",{configurable:!1,enumerable:!0,get:function(){return L}});var k=r.a.computed({owner:this,read:function(){return L()},write:function(e){a.KeyState.Menu!==e&&(a.KeyState.Compose===e?i.d.filter=function(){return h()}:i.d.filter=function(e){if(h()){var t=e.target||e.srcElement,n=t?t.tagName:"";return n=n.toUpperCase(),!("INPUT"===n||"SELECT"===n||"TEXTAREA"===n||t&&"DIV"===n&&("editorHtmlArea"===t.className||"true"==""+t.contentEditable))}return!1},L(e),g()&&(e=a.KeyState.Menu)),D(e)}});Object.defineProperty(t,"keyScope",{configurable:!1,enumerable:!0,get:function(){return k}}),D.subscribe(function(e){i.d.setScope(e)}),g.subscribe(function(e){e?k(a.KeyState.Menu):a.KeyState.Menu===i.d.getScope()&&k(L())});var M={__APP__:null,iAjaxErrorCount:0,iTokenErrorCount:0,aBootstrapDropdowns:[],iMessageBodyCacheCount:0,bUnload:!1};Object.defineProperty(t,"data",{configurable:!1,enumerable:!0,get:function(){return M}})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(10),r=n(0),a=function(){function e(){i(this,e),this.settings={},this.appSettings={},this.settings=o.b.__rlah_data()||{},this.settings=r.isNormal.bind()(this.settings)?this.settings:{},this.appSettings=this.settings.System||null,this.appSettings=r.isNormal.bind()(this.appSettings)?this.appSettings:{}}return e.prototype.settingsGet=function(e){return r.isUnd.bind()(this.settings[e])?null:this.settings[e]},e.prototype.settingsSet=function(e,t){this.settings[e]=t},e.prototype.appSettingsGet=function(e){return r.isUnd.bind()(this.appSettings[e])?null:this.appSettings[e]},e.prototype.capa=function(e){var t=this.settingsGet("Capa");return r.isArray.bind()(t)&&r.isNormal.bind()(e)&&-1<r.inArray.bind()(e,t)},e}();e.exports=new a},function(e,t,n){!function(){"use strict";function t(e,t){this.bDisabeCloseOnEsc=!1,this.sPosition=r.pString(e),this.sTemplate=r.pString(t),this.sDefaultKeyScope=o.KeyState.None,this.sCurrentKeyScope=this.sDefaultKeyScope,this.viewModelVisibility=i.observable(!1),this.modalVisibility=i.observable(!1).extend({rateLimit:0}),this.viewModelName="",this.viewModelNames=[],this.viewModelDom=null}var i=n(1),o=n(3),r=n(0),a=n(7);t.prototype.bDisabeCloseOnEsc=!1,t.prototype.sPosition="",t.prototype.sTemplate="",t.prototype.sDefaultKeyScope=o.KeyState.None,t.prototype.sCurrentKeyScope=o.KeyState.None,t.prototype.viewModelName="",t.prototype.viewModelNames=[],t.prototype.viewModelDom=null,t.prototype.viewModelTemplate=function(){return this.sTemplate},t.prototype.viewModelPosition=function(){return this.sPosition},t.prototype.cancelCommand=function(){},t.prototype.closeCommand=function(){},t.prototype.storeAndSetKeyScope=function(){this.sCurrentKeyScope=a.keyScope(),a.keyScope(this.sDefaultKeyScope)},t.prototype.restoreKeyScope=function(){a.keyScope(this.sCurrentKeyScope)},t.prototype.registerPopupKeyDown=function(){var e=this;
a.$win.on("keydown",function(t){if(t&&e.modalVisibility&&e.modalVisibility()){if(!this.bDisabeCloseOnEsc&&o.EventKeyCode.Esc===t.keyCode)return r.delegateRun(e,"cancelCommand"),!1;if(o.EventKeyCode.Backspace===t.keyCode&&!r.inFocus())return!1}return!0})},e.exports=t}()},function(e,t,n){"use strict";var i=n(11),o=i&&i.__esModule?function(){return i["default"]}:function(){return i};Object.defineProperty(o,"a",{get:o});var r=n(13),a=r&&r.__esModule?function(){return r["default"]}:function(){return r};Object.defineProperty(a,"a",{get:a});var s=n(39),u=s&&s.__esModule?function(){return s["default"]}:function(){return s};Object.defineProperty(u,"a",{get:u});var l=n(2),c=l&&l.__esModule?function(){return l["default"]}:function(){return l};Object.defineProperty(c,"a",{get:c});var p=n(47),d=p&&p.__esModule?function(){return p["default"]}:function(){return p};Object.defineProperty(d,"a",{get:d});var f=n(84),g=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(g,"a",{get:g});var h=n(18),b=h&&h.__esModule?function(){return h["default"]}:function(){return h};Object.defineProperty(b,"a",{get:b}),Object.defineProperty(t,"d",{configurable:!1,enumerable:!0,get:function(){return b.a}}),Object.defineProperty(t,"b",{configurable:!1,enumerable:!0,get:function(){return o.a}}),Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:function(){return a.a}}),Object.defineProperty(t,"f",{configurable:!1,enumerable:!0,get:function(){return u.a}}),Object.defineProperty(t,"c",{configurable:!1,enumerable:!0,get:function(){return c.a}}),Object.defineProperty(t,"e",{configurable:!1,enumerable:!0,get:function(){return g.a}})},function(e,t){e.exports=window},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(10),r=n(0),a=n(8),s=a&&a.__esModule?function(){return a["default"]}:function(){return a};Object.defineProperty(s,"a",{get:s});var u=function(){function e(){i(this,e),this.sHashPrefix="#/",this.sServerPrefix="./?",this.sVersion=s.a.appSettingsGet("version"),this.sWebPrefix=s.a.appSettingsGet("webPath")||"",this.sVersionPrefix=s.a.appSettingsGet("webVersionPath")||"rainloop/v/"+this.sVersion+"/",this.bAminHostUse=!!s.a.appSettingsGet("adminHostUse"),this.sAdminPath=s.a.appSettingsGet("adminPath")||"admin",this.sAuthSuffix=s.a.settingsGet("AuthAccountHash")||"0",this.sStaticPrefix=this.sVersionPrefix+"static/"}return e.prototype.populateAuthSuffix=function(){this.sAuthSuffix=s.a.settingsGet("AuthAccountHash")||"0"},e.prototype.subQueryPrefix=function(){return"&q[]="},e.prototype.root=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return this.sHashPrefix+r.pString.bind()(e)},e.prototype.rootAdmin=function(){return this.bAminHostUse?"./":this.sServerPrefix+this.sAdminPath},e.prototype.rootUser=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return e?"./?/Mobile/":"./"},e.prototype.attachmentRaw=function(e,t,n){return n=r.isUnd.bind()(n)?this.sAuthSuffix:n,this.sServerPrefix+"/Raw/"+this.subQueryPrefix()+"/"+n+"/"+e+"/"+this.subQueryPrefix()+"/"+t},e.prototype.attachmentDownload=function(e,t){return this.attachmentRaw("Download",e,t)},e.prototype.attachmentPreview=function(e,t){return this.attachmentRaw("View",e,t)},e.prototype.attachmentThumbnailPreview=function(e,t){return this.attachmentRaw("ViewThumbnail",e,t)},e.prototype.attachmentPreviewAsPlain=function(e,t){return this.attachmentRaw("ViewAsPlain",e,t)},e.prototype.attachmentFramed=function(e,t){return this.attachmentRaw("FramedView",e,t)},e.prototype.upload=function(){return this.sServerPrefix+"/Upload/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"},e.prototype.uploadContacts=function(){return this.sServerPrefix+"/UploadContacts/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"},e.prototype.uploadBackground=function(){return this.sServerPrefix+"/UploadBackground/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"},e.prototype.append=function(){return this.sServerPrefix+"/Append/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"},e.prototype.change=function(e){return this.sServerPrefix+"/Change/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"+r.encodeURIComponent.bind()(e)+"/"},e.prototype.ajax=function(e){return this.sServerPrefix+"/Ajax/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"+e},e.prototype.messageViewLink=function(e){return this.sServerPrefix+"/Raw/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/ViewAsPlain/"+this.subQueryPrefix()+"/"+e},e.prototype.messageDownloadLink=function(e){return this.sServerPrefix+"/Raw/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/Download/"+this.subQueryPrefix()+"/"+e},e.prototype.avatarLink=function(e){return this.sServerPrefix+"/Raw/0/Avatar/"+r.encodeURIComponent.bind()(e)+"/"},e.prototype.publicLink=function(e){return this.sServerPrefix+"/Raw/0/Public/"+e+"/"},e.prototype.userBackground=function(e){return this.sServerPrefix+"/Raw/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/UserBackground/"+this.subQueryPrefix()+"/"+e},e.prototype.inbox=function(){var e=arguments.length<=0||void 0===arguments[0]?"INBOX":arguments[0];return this.sHashPrefix+"mailbox/"+e},e.prototype.settings=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return this.sHashPrefix+"settings"+(e?"/"+e:"")},e.prototype.about=function(){return this.sHashPrefix+"about"},e.prototype.admin=function(e){var t=this.sHashPrefix;switch(e){case"AdminDomains":t+="domains";break;case"AdminSecurity":t+="security";break;case"AdminLicensing":t+="licensing"}return t},e.prototype.mailBox=function(e){var t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?"":arguments[2],i=arguments.length<=3||void 0===arguments[3]?"":arguments[3];t=r.isNormal.bind()(t)?r.pInt.bind()(t):1,n=r.pString.bind()(n);var a=this.sHashPrefix+"mailbox/";if(""!==e){var s=r.pInt.bind()(i);a+=o.b.encodeURI(e)+(s>0?"~"+s:"")}return t>1&&(a=a.replace(/[\/]+$/,""),a+="/p"+t),""!==n&&(a=a.replace(/[\/]+$/,""),a+="/"+o.b.encodeURI(n)),a},e.prototype.phpInfo=function(){return this.sServerPrefix+"Info"},e.prototype.langLink=function(e,t){return this.sServerPrefix+"/Lang/0/"+(t?"Admin":"App")+"/"+o.b.encodeURI(e)+"/"+this.sVersion+"/"},e.prototype.exportContactsVcf=function(){return this.sServerPrefix+"/Raw/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/ContactsVcf/"},e.prototype.exportContactsCsv=function(){return this.sServerPrefix+"/Raw/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/ContactsCsv/"},e.prototype.emptyContactPic=function(){return this.sStaticPrefix+"css/images/empty-contact.png"},e.prototype.sound=function(e){return this.sStaticPrefix+"sounds/"+e},e.prototype.themePreviewLink=function(e){var t=this.sVersionPrefix;return"@custom"===e.substr(-7)&&(e=r.trim.bind()(e.substring(0,e.length-7)),t=this.sWebPrefix),t+"themes/"+o.b.encodeURI(e)+"/images/preview.png"},e.prototype.notificationMailIcon=function(){return this.sStaticPrefix+"css/images/icom-message-notification.png"},e.prototype.openPgpJs=function(){return this.sStaticPrefix+"js/min/openpgp.min.js"},e.prototype.openPgpWorkerJs=function(){return this.sStaticPrefix+"js/min/openpgp.worker.min.js"},e.prototype.openPgpWorkerPath=function(){return this.sStaticPrefix+"js/min/"},e.prototype.socialGoogle=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return this.sServerPrefix+"SocialGoogle"+(""!==this.sAuthSuffix?"/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/":"")+(e?"&xauth=1":"")},e.prototype.socialTwitter=function(){return this.sServerPrefix+"SocialTwitter"+(""!==this.sAuthSuffix?"/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/":"")},e.prototype.socialFacebook=function(){return this.sServerPrefix+"SocialFacebook"+(""!==this.sAuthSuffix?"/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/":"")},e}();e.exports=new u},function(e,t){e.exports=window.jQuery},,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(10),r=n(0),a=n(1),s=a&&a.__esModule?function(){return a["default"]}:function(){return a};Object.defineProperty(s,"a",{get:s});var u=function(){function e(){i(this,e),this.disposable=[]}return e.prototype.dispose=function(){this.disposable.forEach(function(e){e&&e.dispose&&e.dispose()})},e}(),l=function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return{template:t?{element:t}:"<b></b>",viewModel:{createViewModel:function(t,i){return t=t||{},t.element=null,i&&i.element&&(t.component=i,t.element=o.a.bind()(i.element),n(5).i18nToNodes(t.element),!r.isUnd.bind()(t.inline)&&s.a.unwrap(t.inline)&&t.element.css("display","inline-block")),new e(t)}}}};Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:function(){return u}}),Object.defineProperty(t,"b",{configurable:!1,enumerable:!0,get:function(){return l}})},function(e,t,n){"use strict";var i=20;Object.defineProperty(t,"MESSAGES_PER_PAGE",{configurable:!1,enumerable:!0,get:function(){return i}});var o=[10,20,30,50,100];Object.defineProperty(t,"MESSAGES_PER_PAGE_VALUES",{configurable:!1,enumerable:!0,get:function(){return o}});var r=50;Object.defineProperty(t,"CONTACTS_PER_PAGE",{configurable:!1,enumerable:!0,get:function(){return r}});var a=3e4;Object.defineProperty(t,"DEFAULT_AJAX_TIMEOUT",{configurable:!1,enumerable:!0,get:function(){return a}});var s=3e5;Object.defineProperty(t,"SEARCH_AJAX_TIMEOUT",{configurable:!1,enumerable:!0,get:function(){return s}});var u=3e5;Object.defineProperty(t,"SEND_MESSAGE_AJAX_TIMEOUT",{configurable:!1,enumerable:!0,get:function(){return u}});var l=2e5;Object.defineProperty(t,"SAVE_MESSAGE_AJAX_TIMEOUT",{configurable:!1,enumerable:!0,get:function(){return l}});var c=2e5;Object.defineProperty(t,"CONTACTS_SYNC_AJAX_TIMEOUT",{configurable:!1,enumerable:!0,get:function(){return c}});var p="__UNUSE__";Object.defineProperty(t,"UNUSED_OPTION_VALUE",{configurable:!1,enumerable:!0,get:function(){return p}});var d="rlcsc";Object.defineProperty(t,"CLIENT_SIDE_STORAGE_INDEX_NAME",{configurable:!1,enumerable:!0,get:function(){return d}});var f=143;Object.defineProperty(t,"IMAP_DEFAULT_PORT",{configurable:!1,enumerable:!0,get:function(){return f}});var g=993;Object.defineProperty(t,"IMAP_DEFAULT_SECURE_PORT",{configurable:!1,enumerable:!0,get:function(){return g}});var h=25;Object.defineProperty(t,"SMTP_DEFAULT_PORT",{configurable:!1,enumerable:!0,get:function(){return h}});var b=465;Object.defineProperty(t,"SMTP_DEFAULT_SECURE_PORT",{configurable:!1,enumerable:!0,get:function(){return b}});var m=4190;Object.defineProperty(t,"SIEVE_DEFAULT_PORT",{configurable:!1,enumerable:!0,get:function(){return m}});var v=15;Object.defineProperty(t,"MESSAGE_BODY_CACHE_LIMIT",{configurable:!1,enumerable:!0,get:function(){return v}});var S=7;Object.defineProperty(t,"AJAX_ERROR_LIMIT",{configurable:!1,enumerable:!0,get:function(){return S}});var y=10;Object.defineProperty(t,"TOKEN_ERROR_LIMIT",{configurable:!1,enumerable:!0,get:function(){return y}});var A="RAINLOOP-TRIAL-KEY";Object.defineProperty(t,"RAINLOOP_TRIAL_KEY",{configurable:!1,enumerable:!0,get:function(){return A}});var w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAHHklEQVRoQ7VZW08bVxCeXRuwIbTGXIwNtBBaqjwgVUiR8lDlbza9qe1DpVZ9aNQ/0KpPeaJK07SpcuEeCEmUAObm21bfrL9lONjexSYrWfbunj37zXdmvpkz9oIgCKTD0Wg0xPd94TDP83Q0zvWa50vzklSrdanVanqf4/D84GBGr+F+Op3S8fqoJxLOdnZgTvsO/nYhenHA+UC7CWF1uXwkb9++ldPTUwVerVbVqFQqpR8YPjQ0JCMjI5LNDijoRgP3PQVu5+5Eor2XGLg7IV4GkIdHJ/LmzRs5ODiIwNbrdR0O0GCcq4Xz4eFhmZyclP7+tDQaIik/BG5XKQn4SwG3zJTLZXn9+rUclI8UHD5YVoDDN8bSzXhONwL48fFxGR4eilzFZT1uFRIB5yT8BqCdnR3Z3d0VP9Un6XRawYJpggVrZBv38ME4XKtUKnLt2jUplUoy1PR/l3U7T6sVSAQcgMAkj8PDQ9ne3pajoyMRL7zeKsYZWHgWYDGmv78/mmdwcFA+mJlSgziHDWrERrsjEXDXegTi1tZW+DLxI2bxIrqFNYTXyDyCFweMAHCwb8e4RnTNuOsqe3t7sra21pTD0Kct666E8XlcZyzw9/RUUXK5nK5oUinUQI6TQ3cynO/v78vq6qrKXCNwlTiJJpyNGc3nZHp6uqV2dwrQWOCtZBDAV1ZWwsQk7f0wiQn5kffbAu/0/KWBYzIC1+XukfGx0RGZmppKlC2tIV0Bh4aDcZW7HhkfH8urLLZL7T2pihvlkMNnz56FiadHxicL41IsFpN41bkxsYxbRdFo9jwB8KdPn14J8KnSpBQKhQs63nPmbCVRcBUAR2Lq1VVmpksyMTFxAXjcEsQybiegESionjx5osCZOeNe1O4+EhCAX7bQSgQcxRHTMgAgcz5+/Dis/hL4uHU3/B4YGNASGHIKxuEql0k+l05AeIAF1vPnz5VxFFmdDlaJrMtZITJeSsXCOTlMunKxjLtMYOKNjQ158eJFuAuKkUOb5sEwgff19SkJUBVkThZUbnXZrtCKBQ6gbnWIkjZpyne3ejAWoGnA7Icz6irvBLgbOMicCM6TkxPx/LAkbXfgWcsazuE2kFRsKD5Z+CiqDumKncpZvieWcS6dDVD8xiYCNflpJdwcdwJOf9airLmVQ7DPzMxIYWLsXGXoVqLt5k0M3K3JUVPDZdbWNzsCp48TPFdvdnZWUz32nDha7bJ63kgAJPzSdRks9/Kf9xMJAQ1gq2NpaUmy2Yz4zar4nQC3xb99AQwCcGzLAAwuhG8YiWvcOKts+r4GOe5nMhm5efOm9lUA3E3vSZJRrKvE0fnPv//Jy5cvo5cTHIPQbSjhOoqq69evS19f6lxDKK4+sVhigZPtKJqbrQeqxd5+WR4+fKgqgT0k2XX3nhiPgETWXFhYkFzuPZ2yVq1GTSOXpE47/VjgNnD4m4GG7/LhsTx69EiwD4Vr2MwIIxgbAH18fKx1yfz8vEogNvGtWnCuhLZa9UTAreVWFsHy/b/+Vrbdl7E5REMQD2jDoUbByty+/ZnU64GkU2HzyJLhktU1cLv8nARgkYS2d3ajAgwG8qU2oLmDZ92CMaOjo7K4uCiZgbDWaRWgnZhPxLhrMUCvr69riwKZk1LHF7XqrWAO9hJxH6ozNzcnCx/PqztZg9mf6SQMscCtm2C5ke4BGMlHWTUp36036AJajDVrFMzBrhhWslQsSrFYiOqVpMriNYIgqFRq2j3FAb/zffT6zuxFXxsNzs3NTXn16lW4gYiW96w1FyedF+83xG/2FNGCRpU4NjamMsn+OZ9xE5RXqdaDdPpib6RWCzuwKF9RxqI2AVNQBwQYJoK0wdBejnqtEikP3pfP51XjUTESl12FqJEKxsEorARYDD44ONTeID7YpsEnrRvQfWAI2e8WfDaTUSIwJ0iBCmFOtOUAHvVMPp/TPwvYFVYFIuP8l+DBgwdaa2Miqwa0GgYwfeMltovbDfh6c1vIgMYcliSsKv4IWFr6VDHxvldvBAH+1sA+cnl5WYOPmmr9ir+1l9I0Cgz0yjhXjfJJ0JROnmezWbl165ayr/5fqwcBNr7IfhjMqKcvESSM4eRcCasQ3bDNObmKPLdGUGpZsN24cUNLBm9zazu4d++e6qpNBFaTuUS26U5dpuR1CxyA7J9ddrMRqlz4pwLLYawymPd++/2PADt2ugcGwq9gCCdhQ96C6xWwa6j1ceuq+I0EhW0i8MAIVJfeL3d/DVD8EKi12P6/2S2jV/EccVB54O/ejz/9HGCpoBBMta5rXMXLu53D1XAwjhXwvvv+h4BAXVe4bOu3O3ChxF08LiZFG3fel199G9CH3fLyqv24NcB44MRhpdK788U3CpyKwsCw590xmfSpzsBt0Fqc3ud3vtZigxWcVZCklVpSiN0w3q5E/h9TGMIUuA3+EQAAAABJRU5ErkJggg==";Object.defineProperty(t,"DATA_IMAGE_USER_DOT_PIC",{configurable:!1,enumerable:!0,get:function(){return w}});var _="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NkAAIAAAoAAggA9GkAAAAASUVORK5CYII=";Object.defineProperty(t,"DATA_IMAGE_TRANSP_PIC",{configurable:!1,enumerable:!0,get:function(){return _}})},,function(e,t){e.exports=window.key},function(e,t,n){!function(){"use strict";function t(){o.call(this),this.oRequests={}}var i=n(2),o=n(56);i.extend(t.prototype,o.prototype),t.prototype.adminLogin=function(e,t,n){this.defaultRequest(e,"AdminLogin",{Login:t,Password:n})},t.prototype.adminLogout=function(e){this.defaultRequest(e,"AdminLogout")},t.prototype.saveAdminConfig=function(e,t){this.defaultRequest(e,"AdminSettingsUpdate",t)},t.prototype.domainList=function(e){this.defaultRequest(e,"AdminDomainList")},t.prototype.pluginList=function(e){this.defaultRequest(e,"AdminPluginList")},t.prototype.packagesList=function(e){this.defaultRequest(e,"AdminPackagesList")},t.prototype.coreData=function(e){this.defaultRequest(e,"AdminCoreData")},t.prototype.updateCoreData=function(e){this.defaultRequest(e,"AdminUpdateCoreData",{},9e4)},t.prototype.packageInstall=function(e,t){this.defaultRequest(e,"AdminPackageInstall",{Id:t.id,Type:t.type,File:t.file},6e4)},t.prototype.packageDelete=function(e,t){this.defaultRequest(e,"AdminPackageDelete",{Id:t.id})},t.prototype.domain=function(e,t){this.defaultRequest(e,"AdminDomainLoad",{Name:t})},t.prototype.plugin=function(e,t){this.defaultRequest(e,"AdminPluginLoad",{Name:t})},t.prototype.domainDelete=function(e,t){this.defaultRequest(e,"AdminDomainDelete",{Name:t})},t.prototype.domainDisable=function(e,t,n){return this.defaultRequest(e,"AdminDomainDisable",{Name:t,Disabled:n?"1":"0"})},t.prototype.pluginSettingsUpdate=function(e,t){return this.defaultRequest(e,"AdminPluginSettingsUpdate",t)},t.prototype.licensing=function(e,t){return this.defaultRequest(e,"AdminLicensing",{Force:t?"1":"0"})},t.prototype.licensingActivate=function(e,t,n){return this.defaultRequest(e,"AdminLicensingActivate",{Domain:t,Key:n})},t.prototype.pluginDisable=function(e,t,n){return this.defaultRequest(e,"AdminPluginDisable",{Name:t,Disabled:n?"1":"0"})},t.prototype.createOrUpdateDomain=function(e,t,n,i,o,r,a,s,u,l,c,p,d,f,g,h,b,m,v){this.defaultRequest(e,"AdminDomainSave",{Create:t?"1":"0",Name:n,IncHost:i,IncPort:o,IncSecure:r,IncShortLogin:a?"1":"0",UseSieve:s?"1":"0",SieveAllowRaw:u?"1":"0",SieveHost:l,SievePort:c,SieveSecure:p,OutHost:d,OutPort:f,OutSecure:g,OutShortLogin:h?"1":"0",OutAuth:b?"1":"0",OutUsePhpMail:m?"1":"0",WhiteList:v})},t.prototype.testConnectionForDomain=function(e,t,n,i,o,r,a,s,u,l,c,p,d,f){this.defaultRequest(e,"AdminDomainTest",{Name:t,IncHost:n,IncPort:i,IncSecure:o,UseSieve:r?"1":"0",SieveHost:a,SievePort:s,SieveSecure:u,OutHost:l,OutPort:c,OutSecure:p,OutAuth:d?"1":"0",OutUsePhpMail:f?"1":"0"})},t.prototype.testContacts=function(e,t){this.defaultRequest(e,"AdminContactsTest",t)},t.prototype.saveNewAdminPassword=function(e,t){this.defaultRequest(e,"AdminPasswordUpdate",t)},t.prototype.adminPing=function(e){this.defaultRequest(e,"AdminPing")},e.exports=new t}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(10),s=n(1),u=s&&s.__esModule?function(){return s["default"]}:function(){return s};Object.defineProperty(u,"a",{get:u});var l=n(49),c=l&&l.__esModule?function(){return l["default"]}:function(){return l};Object.defineProperty(c,"a",{get:c});var p=n(12),d=p&&p.__esModule?function(){return p["default"]}:function(){return p};Object.defineProperty(d,"a",{get:d});var f=n(5),g=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(g,"a",{get:g});var h=n(3),b=n(0),m=n(8),v=m&&m.__esModule?function(){return m["default"]}:function(){return m};Object.defineProperty(v,"a",{get:v});var S=n(34),y=S&&S.__esModule?function(){return S["default"]}:function(){return S};Object.defineProperty(y,"a",{get:y});var A=n(58),w=A&&A.__esModule?function(){return A["default"]}:function(){return A};Object.defineProperty(w,"a",{get:w});var _=n(60),C=_&&_.__esModule?function(){return _["default"]}:function(){return _};Object.defineProperty(C,"a",{get:C});var T=n(146),P=T&&T.__esModule?function(){return T["default"]}:function(){return T};Object.defineProperty(P,"a",{get:P});var E=n(59),O=E&&E.__esModule?function(){return E["default"]}:function(){return E};Object.defineProperty(O,"a",{get:O});var N=n(89),R=N&&N.__esModule?function(){return N["default"]}:function(){return N};Object.defineProperty(R,"a",{get:R});var I=n(19),x=I&&I.__esModule?function(){return I["default"]}:function(){return I};Object.defineProperty(x,"a",{get:x});var D=n(4),L=D&&D.__esModule?function(){return D["default"]}:function(){return D};Object.defineProperty(L,"a",{get:L});var k=n(65),M=function(e){function t(){return i(this,t),o(this,e.call(this,x.a))}return r(t,e),t.prototype.remote=function(){return x.a},t.prototype.reloadDomainList=function(){w.a.domains.loading(!0),x.a.domainList(function(e,t){w.a.domains.loading(!1),h.StorageResultType.Success===e&&t&&t.Result&&w.a.domains(a.c.map(t.Result,function(e,t){return{name:t,disabled:u.a.observable(!e),deleteAccess:u.a.observable(!1)}}))})},t.prototype.reloadPluginList=function(){C.a.plugins.loading(!0),x.a.pluginList(function(e,t){C.a.plugins.loading(!1),h.StorageResultType.Success===e&&t&&t.Result&&C.a.plugins(a.c.map(t.Result,function(e){return{name:e.Name,disabled:u.a.observable(!e.Enabled),configured:u.a.observable(!!e.Configured)}}))})},t.prototype.reloadPackagesList=function(){O.a.packages.loading(!0),O.a.packagesReal(!0),x.a.packagesList(function(e,t){O.a.packages.loading(!1),h.StorageResultType.Success===e&&t&&t.Result?!function(){O.a.packagesReal(!!t.Result.Real),O.a.packagesMainUpdatable(!!t.Result.MainUpdatable);var e=[],n={};a.c.each(O.a.packages(),function(e){e&&e.loading()&&(n[e.file]=e)}),b.isArray.bind()(t.Result.List)&&(e=a.c.compact(a.c.map(t.Result.List,function(e){return e?(e.loading=u.a.observable(!b.isUnd.bind()(n[e.file])),"core"!==e.type||e.canBeInstalled?e:null):null}))),O.a.packages(e)}():O.a.packagesReal(!1)})},t.prototype.updateCoreData=function(){R.a.coreUpdating(!0),x.a.updateCoreData(function(e,t){R.a.coreUpdating(!1),R.a.coreVersion(""),R.a.coreRemoteVersion(""),R.a.coreRemoteRelease(""),R.a.coreVersionCompare(-2),h.StorageResultType.Success===e&&t&&t.Result?(R.a.coreReal(!0),a.b.location.reload()):R.a.coreReal(!1)})},t.prototype.reloadCoreData=function(){R.a.coreChecking(!0),R.a.coreReal(!0),x.a.coreData(function(e,t){R.a.coreChecking(!1),h.StorageResultType.Success===e&&t&&t.Result?(R.a.coreReal(!!t.Result.Real),R.a.coreChannel(t.Result.Channel||"stable"),R.a.coreType(t.Result.Type||"stable"),R.a.coreUpdatable(!!t.Result.Updatable),R.a.coreAccess(!!t.Result.Access),R.a.coreWarning(!!t.Result.Warning),R.a.coreVersion(t.Result.Version||""),R.a.coreRemoteVersion(t.Result.RemoteVersion||""),R.a.coreRemoteRelease(t.Result.RemoteRelease||""),R.a.coreVersionCompare(b.pInt.bind()(t.Result.VersionCompare))):(R.a.coreReal(!1),R.a.coreChannel("stable"),R.a.coreType("stable"),R.a.coreWarning(!1),R.a.coreVersion(""),R.a.coreRemoteVersion(""),R.a.coreRemoteRelease(""),R.a.coreVersionCompare(-2))})},t.prototype.reloadLicensing=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];P.a.licensingProcess(!0),P.a.licenseError(""),x.a.licensing(function(e,t){P.a.licensingProcess(!1),h.StorageResultType.Success===e&&t&&t.Result&&b.isNormal.bind()(t.Result.Expired)?(P.a.licenseValid(!0),P.a.licenseExpired(b.pInt.bind()(t.Result.Expired)),P.a.licenseError(""),P.a.licensing(!0),y.a.prem(!0)):t&&t.ErrorCode&&-1<b.inArray.bind()(b.pInt.bind()(t.ErrorCode),[h.Notification.LicensingServerIsUnavailable,h.Notification.LicensingExpired])?(P.a.licenseError(g.a.getNotification(b.pInt.bind()(t.ErrorCode))),P.a.licensing(!0)):h.StorageResultType.Abort===e?(P.a.licenseError(g.a.getNotification(h.Notification.LicensingServerIsUnavailable)),P.a.licensing(!0)):P.a.licensing(!1)},e)},t.prototype.bootend=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];c.a&&c.a.end(),e&&e()},t.prototype.bootstart=function(){e.prototype.bootstart.call(this),n(34).populate(),n(51).populate(),L.a.hideLoading(),v.a.appSettingsGet("allowAdminPanel")?v.a.settingsGet("Auth")?L.a.startScreens([n(121)]):L.a.startScreens([n(120)]):(L.a.routeOff(),L.a.setHash(d.a.root(),!0),L.a.routeOff(),a.c.defer(function(){a.b.location.href="/"})),this.bootend()},t}(k.a),F=new M;t["default"]=F},,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(10),r=n(0),a=n(7),s=n(8),u=s&&s.__esModule?function(){return s["default"]}:function(){return s};Object.defineProperty(u,"a",{get:u});var l=function(){function e(){i(this,e),this.oSimpleHooks={},this.aUserViewModelsHooks=[],this.aAdminViewModelsHooks=[]}return e.prototype.addHook=function(e,t){r.isFunc.bind()(t)&&(r.isArray.bind()(this.oSimpleHooks[e])||(this.oSimpleHooks[e]=[]),this.oSimpleHooks[e].push(t))},e.prototype.runHook=function(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];r.isArray.bind()(this.oSimpleHooks[e])&&o.c.each(this.oSimpleHooks[e],function(e){e.apply(null,t)})},e.prototype.mainSettingsGet=function(e){return u.a.settingsGet(e)},e.prototype.remoteRequest=function(e,t,n,i){a.data.__APP__&&a.data.__APP__.remote().defaultRequest(e,"Plugin"+t,n,i)},e.prototype.addSettingsViewModel=function(e,t,n,i){this.aUserViewModelsHooks.push([e,t,n,i])},e.prototype.addSettingsViewModelForAdmin=function(e,t,n,i){this.aAdminViewModelsHooks.push([e,t,n,i])},e.prototype.runSettingsViewModelHooks=function(e){var t=n(4);o.c.each(e?this.aAdminViewModelsHooks:this.aUserViewModelsHooks,function(e){t.addSettingsViewModel(e[0],e[1],e[2],e[3])})},e.prototype.settingsGet=function(e,t){var n=u.a.settingsGet("Plugins");return n=n&&!r.isUnd.bind()(n[e])?n[e]:null,n?r.isUnd.bind()(n[t])?null:n[t]:null},e}();e.exports=new l},,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(10),r=n(0),a=n(22),s=a&&a.__esModule?function(){return a["default"]}:function(){return a};Object.defineProperty(s,"a",{get:s});var u=function(){function e(){i(this,e),this.subs={}}return e.prototype.sub=function(e,t,n){var i=this;return r.isObject.bind()(e)?(n=t||null,t=null,o.c.each(e,function(e,t){i.sub(t,e,n)},this)):(r.isUnd.bind()(this.subs[e])&&(this.subs[e]=[]),this.subs[e].push([t,n])),this},e.prototype.pub=function(e,t){return s.a.runHook("rl-pub",[e,t]),r.isUnd.bind()(this.subs[e])||o.c.each(this.subs[e],function(e){e[0]&&e[0].apply(e[1]||null,t||[])}),this},e}();e.exports=new u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(10),r=n(5),a=r&&r.__esModule?function(){return r["default"]}:function(){return r};Object.defineProperty(a,"a",{get:a});var s=function(){function e(){var t=this;i(this,e),this._moment=null,this._momentNow=0,this.updateMomentNow=o.c.debounce(function(){t._moment=o.e.bind()()},500,!0),this.updateMomentNowUnix=o.c.debounce(function(){t._momentNow=o.e.bind()().unix()},500,!0),this.format=o.c.bind(this.format,this)}return e.prototype.momentNow=function(){return this.updateMomentNow(),this._moment||o.e.bind()()},e.prototype.momentNowUnix=function(){return this.updateMomentNowUnix(),this._momentNow||0},e.prototype.searchSubtractFormatDateHelper=function(e){return this.momentNow().clone().subtract("days",e).format("YYYY.MM.DD")},e.prototype.formatCustomShortDate=function(e){var t=this.momentNow();if(e&&t)switch(!0){case 4>=t.diff(e,"hours"):return e.fromNow();case t.format("L")===e.format("L"):return a.a.i18n("MESSAGE_LIST/TODAY_AT",{TIME:e.format("LT")});case t.clone().subtract("days",1).format("L")===e.format("L"):return a.a.i18n("MESSAGE_LIST/YESTERDAY_AT",{TIME:e.format("LT")});case t.year()===e.year():return e.format("D MMM.")}return e?e.format("LL"):""},e.prototype.format=function(e,t){var n=null,i="",r=this.momentNowUnix();if(e=e>0?e:0===e?r:0,e=e>r?r:e,n=e>0?o.e.unix(e):null,n&&1970===n.year()&&(n=null),n)switch(t){case"FROMNOW":i=n.fromNow();break;case"SHORT":i=this.formatCustomShortDate(n);break;case"FULL":i=n.format("LLL");break;default:i=n.format(t)}return i},e.prototype.momentToNode=function(e){var t="",n=0,i=o.a.bind()(e);n=i.data("moment-time"),n&&(t=i.data("moment-format"),t&&i.text(this.format(n,t)),t=i.data("moment-format-title"),t&&i.attr("title",this.format(n,t)))},e.prototype.momentToNodes=function(e){var t=this;o.c.defer(function(){o.a.bind()(".moment",e).each(function(e,n){t.momentToNode(n)})})},e.prototype.reload=function(){this.momentToNodes(o.b.document)},e}();e.exports=new s},,,,function(e,t,n){!function(){"use strict";function t(e,t,n,i){this.email=e||"",this.name=t||"",this.dkimStatus=n||"none",this.dkimValue=i||"",this.clearDuplicateName()}var i=n(0);t.newInstanceFromJson=function(e){var n=new t;return n.initByJson(e)?n:null},t.splitHelper=function(e,t){t=t||";",e=e.replace(/[\r\n]+/g,"; ").replace(/[\s]+/g," ");for(var n=0,i=e.length,o=!1,r="",a="";i>n;n++){switch(r=e.charAt(n)){case"@":o=!0;break;case" ":o&&(o=!1,a+=t)}a+=r}return a.split(t)},t.prototype.name="",t.prototype.email="",t.prototype.dkimStatus="none",t.prototype.dkimValue="",t.prototype.clear=function(){this.email="",this.name="",this.dkimStatus="none",this.dkimValue=""},t.prototype.validate=function(){return""!==this.name||""!==this.email},t.prototype.hash=function(e){return"#"+(e?"":this.name)+"#"+this.email+"#"},t.prototype.clearDuplicateName=function(){this.name===this.email&&(this.name="")},t.prototype.search=function(e){return-1<(this.name+" "+this.email).toLowerCase().indexOf(e.toLowerCase())},t.prototype.parse=function(e){this.clear(),e=i.trim(e);var t=/(?:"([^"]+)")? ?[<]?(.*?@[^>,]+)>?,? ?/g,n=t.exec(e);n?(this.name=n[1]||"",this.email=n[2]||"",this.clearDuplicateName()):/^[^@]+@[^@]+$/.test(e)&&(this.name="",this.email=e)},t.prototype.initByJson=function(e){var t=!1;return e&&"Object/Email"===e["@Object"]&&(this.name=i.trim(e.Name),this.email=i.trim(e.Email),this.dkimStatus=i.trim(e.DkimStatus||""),this.dkimValue=i.trim(e.DkimValue||""),t=""!==this.email,this.clearDuplicateName()),t},t.prototype.toLine=function(e,t,n){var o="";return""!==this.email&&(t=i.isUnd(t)?!1:!!t,n=i.isUnd(n)?!1:!!n,e&&""!==this.name?o=t?'<a href="mailto:'+i.encodeHtml('"'+this.name+'" <'+this.email+">")+'" target="_blank" tabindex="-1">'+i.encodeHtml(this.name)+"</a>":n?i.encodeHtml(this.name):this.name:(o=this.email,""!==this.name?t?o=i.encodeHtml('"'+this.name+'" <')+'<a href="mailto:'+i.encodeHtml('"'+this.name+'" <'+this.email+">")+'" target="_blank" tabindex="-1">'+i.encodeHtml(o)+"</a>"+i.encodeHtml(">"):(o='"'+this.name+'" <'+o+">",n&&(o=i.encodeHtml(o))):t&&(o='<a href="mailto:'+i.encodeHtml(this.email)+'" target="_blank" tabindex="-1">'+i.encodeHtml(this.email)+"</a>"))),o},t.prototype.mailsoParse=function(e){if(e=i.trim(e),""===e)return!1;for(var t=function(e,t,n){e+="";var i=e.length;return 0>t&&(t+=i),i="undefined"==typeof n?i:0>n?n+i:n+t,t>=e.length||0>t||t>i?!1:e.slice(t,i)},n=function(e,t,n,i){return 0>n&&(n+=e.length),i=void 0!==i?i:e.length,0>i&&(i=i+e.length-n),e.slice(0,n)+t.substr(0,i)+t.slice(i)+e.slice(n+i)},o="",r="",a="",s=!1,u=!1,l=!1,c=null,p=0,d=0,f=0;f<e.length;){switch(e.substr(f,1)){case'"':s||u||l?u||l||(d=f,o=t(e,p+1,d-p-1),e=n(e,"",p,d-p+1),d=0,f=0,p=0,s=!1):(s=!0,p=f);break;case"<":s||u||l||(f>0&&0===o.length&&(o=t(e,0,f)),u=!0,p=f);break;case">":u&&(d=f,r=t(e,p+1,d-p-1),e=n(e,"",p,d-p+1),d=0,f=0,p=0,u=!1);break;case"(":s||u||l||(l=!0,p=f);break;case")":l&&(d=f,a=t(e,p+1,d-p-1),e=n(e,"",p,d-p+1),d=0,f=0,p=0,l=!1);break;case"\\":f++}f++}return 0===r.length&&(c=e.match(/[^@\s]+@\S+/i),c&&c[0]?r=c[0]:o=e),r.length>0&&0===o.length&&0===a.length&&(o=e.replace(r,"")),r=i.trim(r).replace(/^[<]+/,"").replace(/[>]+$/,""),o=i.trim(o).replace(/^["']+/,"").replace(/["']+$/,""),a=i.trim(a).replace(/^[(]+/,"").replace(/[)]+$/,""),o=o.replace(/\\\\(.)/g,"$1"),a=a.replace(/\\\\(.)/g,"$1"),this.name=o,this.email=r,this.clearDuplicateName(),!0},e.exports=t}()},,,,function(e,t,n){!function(){"use strict";function t(){this.google={},this.twitter={},this.facebook={},this.dropbox={},this.google.enabled=i.observable(!1),this.google.clientID=i.observable(""),this.google.clientSecret=i.observable(""),this.google.apiKey=i.observable(""),this.google.loading=i.observable(!1),this.google.userName=i.observable(""),this.google.loggined=i.computed(function(){return""!==this.google.userName()},this),this.google.capa={},this.google.capa.auth=i.observable(!1),this.google.capa.authFast=i.observable(!1),this.google.capa.drive=i.observable(!1),this.google.capa.preview=i.observable(!1),this.google.require={},this.google.require.clientSettings=i.computed(function(){return this.google.enabled()&&(this.google.capa.auth()||this.google.capa.drive())},this),this.google.require.apiKeySettings=i.computed(function(){return this.google.enabled()&&this.google.capa.drive()},this),this.facebook.enabled=i.observable(!1),this.facebook.appID=i.observable(""),this.facebook.appSecret=i.observable(""),this.facebook.loading=i.observable(!1),this.facebook.userName=i.observable(""),this.facebook.supported=i.observable(!1),this.facebook.loggined=i.computed(function(){return""!==this.facebook.userName()},this),this.twitter.enabled=i.observable(!1),this.twitter.consumerKey=i.observable(""),this.twitter.consumerSecret=i.observable(""),this.twitter.loading=i.observable(!1),this.twitter.userName=i.observable(""),this.twitter.loggined=i.computed(function(){return""!==this.twitter.userName();
},this),this.dropbox.enabled=i.observable(!1),this.dropbox.apiKey=i.observable("")}var i=n(1);t.prototype.google={},t.prototype.twitter={},t.prototype.facebook={},t.prototype.dropbox={},t.prototype.populate=function(){var e=n(8);this.google.enabled(!!e.settingsGet("AllowGoogleSocial")),this.google.clientID(e.settingsGet("GoogleClientID")),this.google.clientSecret(e.settingsGet("GoogleClientSecret")),this.google.apiKey(e.settingsGet("GoogleApiKey")),this.google.capa.auth(!!e.settingsGet("AllowGoogleSocialAuth")),this.google.capa.authFast(!!e.settingsGet("AllowGoogleSocialAuthFast")),this.google.capa.drive(!!e.settingsGet("AllowGoogleSocialDrive")),this.google.capa.preview(!!e.settingsGet("AllowGoogleSocialPreview")),this.facebook.enabled(!!e.settingsGet("AllowFacebookSocial")),this.facebook.appID(e.settingsGet("FacebookAppID")),this.facebook.appSecret(e.settingsGet("FacebookAppSecret")),this.facebook.supported(!!e.settingsGet("SupportedFacebookSocial")),this.twitter.enabled=i.observable(!!e.settingsGet("AllowTwitterSocial")),this.twitter.consumerKey=i.observable(e.settingsGet("TwitterConsumerKey")),this.twitter.consumerSecret=i.observable(e.settingsGet("TwitterConsumerSecret")),this.dropbox.enabled(!!e.settingsGet("AllowDropboxSocial")),this.dropbox.apiKey(e.settingsGet("DropboxApiKey"))},e.exports=new t}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=a&&a.__esModule?function(){return a["default"]}:function(){return a};Object.defineProperty(s,"a",{get:s});var u=n(8),l=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(l,"a",{get:l});var c=n(78),p=function(e){function t(){i(this,t);var n=o(this,e.call(this));return n.determineUserLanguage=s.a.observable(!1),n.determineUserDomain=s.a.observable(!1),n.weakPassword=s.a.observable(!1),n.useLocalProxyForExternalImages=s.a.observable(!1),n}return r(t,e),t.prototype.populate=function(){e.prototype.populate.call(this),this.determineUserLanguage(!!l.a.settingsGet("DetermineUserLanguage")),this.determineUserDomain(!!l.a.settingsGet("DetermineUserDomain")),this.weakPassword(!!l.a.settingsGet("WeakPassword")),this.useLocalProxyForExternalImages(!!l.a.settingsGet("UseLocalProxyForExternalImages"))},t}(c.a);e.exports=new p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=a&&a.__esModule?function(){return a["default"]}:function(){return a};Object.defineProperty(s,"a",{get:s});var u=n(0),l=n(3),c=n(15),p=function(e){function t(n){i(this,t);var r=o(this,e.call(this));return r.value=n.value||"",r.size=n.size||0,r.label=n.label||"",r.preLabel=n.preLabel||"",r.enable=u.isUnd.bind()(n.enable)?!0:n.enable,r.trigger=n.trigger&&n.trigger.subscribe?n.trigger:null,r.placeholder=n.placeholder||"",r.labeled=!u.isUnd.bind()(n.label),r.preLabeled=!u.isUnd.bind()(n.preLabel),r.triggered=!u.isUnd.bind()(n.trigger)&&!!r.trigger,r.classForTrigger=s.a.observable(""),r.className=s.a.computed(function(){var e=s.a.unwrap(r.size),t=r.trigger?" "+u.trim.bind()("settings-saved-trigger-input "+r.classForTrigger()):"";return(e>0?"span"+e:"")+t},r),!u.isUnd.bind()(n.width)&&n.element&&n.element.find("input,select,textarea").css("width",n.width),r.disposable.push(r.className),r.trigger&&(r.setTriggerState(r.trigger()),r.disposable.push(r.trigger.subscribe(r.setTriggerState,r))),r}return r(t,e),t.prototype.setTriggerState=function(e){switch(u.pInt.bind()(e)){case l.SaveSettingsStep.TrueResult:this.classForTrigger("success");break;case l.SaveSettingsStep.FalseResult:this.classForTrigger("error");break;default:this.classForTrigger("")}},t}(c.a);Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:function(){return p}})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(15),s=n(45),u=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return r(t,e),t}(s.a);e.exports=a.b.bind()(u,"CheckboxComponent")},function(e,t,n){!function(){"use strict";function t(e,t){this.sScreenName=e,this.aViewModels=r.isArray(t)?t:[]}var i=n(2),o=n(48),r=n(0);t.prototype.oCross=null,t.prototype.sScreenName="",t.prototype.aViewModels=[],t.prototype.viewModels=function(){return this.aViewModels},t.prototype.screenName=function(){return this.sScreenName},t.prototype.routes=function(){return null},t.prototype.__cross=function(){return this.oCross},t.prototype.__start=function(){var e=this.routes(),t=null,n=null;r.isNonEmptyArray(e)&&(n=i.bind(this.onRoute||r.emptyFunction,this),t=o.create(),i.each(e,function(e){t.addRoute(e[0],n).rules=e[1]}),this.oCross=t)},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(){this.languages=i.observableArray([]),this.languagesAdmin=i.observableArray([]),this.language=i.observable("").extend({limitedList:this.languages}),this.languageAdmin=i.observable("").extend({limitedList:this.languagesAdmin}),this.userLanguage=i.observable(""),this.userLanguageAdmin=i.observable("")}var i=n(1),o=n(0),r=n(8);t.prototype.populate=function(){var e=r.appSettingsGet("languages"),t=r.appSettingsGet("languagesAdmin");this.languages(o.isArray(e)?e:[]),this.languagesAdmin(o.isArray(t)?t:[]),this.language(r.settingsGet("Language")),this.languageAdmin(r.settingsGet("LanguageAdmin")),this.userLanguage(r.settingsGet("UserLanguage")),this.userLanguageAdmin(r.settingsGet("UserLanguageAdmin"))},e.exports=new t}()},function(e,t){e.exports=window.JSON},,function(e,t,n){!function(){"use strict";function t(){this.themes=i.observableArray([]),this.themeBackgroundName=i.observable(""),this.themeBackgroundHash=i.observable(""),this.theme=i.observable("").extend({limitedList:this.themes})}var i=n(1),o=n(0),r=n(8);t.prototype.populate=function(){var e=r.appSettingsGet("themes");this.themes(o.isArray(e)?e:[]),this.theme(r.settingsGet("Theme")),this.themeBackgroundName(r.settingsGet("UserBackgroundName")),this.themeBackgroundHash(r.settingsGet("UserBackgroundHash"))},e.exports=new t}()},function(e,t,n){!function(){"use strict";function t(){c.call(this,"Popups","PopupsAsk"),this.askDesc=o.observable(""),this.yesButton=o.observable(""),this.noButton=o.observable(""),this.yesFocus=o.observable(!1),this.noFocus=o.observable(!1),this.fYesAction=null,this.fNoAction=null,this.bFocusYesOnShow=!0,this.bDisabeCloseOnEsc=!0,this.sDefaultKeyScope=a.KeyState.PopupAsk,l.constructorEnd(this)}var i=n(2),o=n(1),r=n(18),a=n(3),s=n(0),u=n(5),l=n(4),c=n(9);l.extendAsViewModel(["View/Popup/Ask","PopupsAskViewModel"],t),i.extend(t.prototype,c.prototype),t.prototype.clearPopup=function(){this.askDesc(""),this.yesButton(u.i18n("POPUPS_ASK/BUTTON_YES")),this.noButton(u.i18n("POPUPS_ASK/BUTTON_NO")),this.yesFocus(!1),this.noFocus(!1),this.fYesAction=null,this.fNoAction=null},t.prototype.yesClick=function(){this.cancelCommand(),s.isFunc(this.fYesAction)&&this.fYesAction.call(null)},t.prototype.noClick=function(){this.cancelCommand(),s.isFunc(this.fNoAction)&&this.fNoAction.call(null)},t.prototype.onShow=function(e,t,n,i,o,r){this.clearPopup(),this.fYesAction=t||null,this.fNoAction=n||null,this.askDesc(e||""),i&&this.yesButton(i),i&&this.yesButton(o),this.bFocusYesOnShow=s.isUnd(r)?!0:!!r},t.prototype.onShowWithDelay=function(){this.bFocusYesOnShow&&this.yesFocus(!0)},t.prototype.onBuild=function(){r("tab, shift+tab, right, left",a.KeyState.PopupAsk,i.bind(function(){return this.yesFocus()?this.noFocus(!0):this.yesFocus(!0),!1},this)),r("esc",a.KeyState.PopupAsk,i.bind(function(){return this.noClick(),!1},this))},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(){s.call(this,"Popups","PopupsLanguages");var e=this;this.fLang=null,this.userLanguage=o.observable(""),this.langs=o.observableArray([]),this.languages=o.computed(function(){var t=e.userLanguage();return i.map(e.langs(),function(e){return{key:e,user:e===t,selected:o.observable(!1),fullName:r.convertLangName(e)}})}),this.langs.subscribe(function(){this.setLanguageSelection()},this),a.constructorEnd(this)}var i=n(2),o=n(1),r=n(0),a=n(4),s=n(9);a.extendAsViewModel(["View/Popup/Languages","PopupsLanguagesViewModel"],t),i.extend(t.prototype,s.prototype),t.prototype.languageTooltipName=function(e){var t=r.convertLangName(e,!0);return r.convertLangName(e,!1)===t?"":t},t.prototype.setLanguageSelection=function(){var e=this.fLang?o.unwrap(this.fLang):"";i.each(this.languages(),function(t){t.selected(t.key===e)})},t.prototype.onBeforeShow=function(){this.fLang=null,this.userLanguage(""),this.langs([])},t.prototype.onShow=function(e,t,n){this.fLang=e,this.userLanguage(n||""),this.langs(t)},t.prototype.changeLanguage=function(e){this.fLang&&this.fLang(e),this.cancelCommand()},e.exports=t}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(10),r=n(7),a=n(8),s=a&&a.__esModule?function(){return a["default"]}:function(){return a};Object.defineProperty(s,"a",{get:s});var u=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],a=arguments.length<=3||void 0===arguments[3]?null:arguments[3];i(this,e),this.editor=null,this.$element=null,this.blurTimer=0,this.onBlur=null,this.onReady=null,this.onModeChange=null,this.__inited=null,this.onBlur=n,this.onReady=r,this.onModeChange=a,this.$element=o.a.bind()(t),this.resize=o.c.throttle(o.c.bind(this.resize,this),100),this.__inited=!1,this.init()}return e.prototype.blurTrigger=function(){var e=this;this.onBlur&&(o.b.clearTimeout(this.blurTimer),this.blurTimer=o.b.setTimeout(function(){e.onBlur()},200))},e.prototype.focusTrigger=function(){this.onBlur&&o.b.clearTimeout(this.blurTimer)},e.prototype.isHtml=function(){return this.editor?"wysiwyg"===this.editor.mode:!1},e.prototype.setSignature=function(e,t,n){this.editor&&this.editor.execCommand("insertSignature",{isHtml:t,insertBefore:n,signature:e})},e.prototype.checkDirty=function(){return this.editor?this.editor.checkDirty():!1},e.prototype.resetDirty=function(){this.editor&&this.editor.resetDirty()},e.prototype.clearSignatureSigns=function(e){return e.replace(/(\u200C|\u0002)/g,"")},e.prototype.getData=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n="";if(this.editor){try{n="plain"===this.editor.mode&&this.editor.plugins.plain&&this.editor.__plain?this.editor.__plain.getRawData():e?'<div data-html-editor-font-wrapper="true" style="font-family: arial, sans-serif; font-size: 13px;">'+this.editor.getData()+"</div>":this.editor.getData()}catch(i){}t&&(n=this.clearSignatureSigns(n))}return n},e.prototype.getDataWithHtmlMark=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return(this.isHtml()?":HTML:":"")+this.getData(e,t)},e.prototype.modeToggle=function(e,t){if(this.editor){try{e?"plain"===this.editor.mode&&this.editor.setMode("wysiwyg"):"wysiwyg"===this.editor.mode&&this.editor.setMode("plain")}catch(n){}t&&this.resize()}},e.prototype.setHtmlOrPlain=function(e,t){":HTML:"===e.substr(0,6)?this.setHtml(e.substr(6),t):this.setPlain(e,t)},e.prototype.setHtml=function(e,t){if(this.editor&&this.__inited){this.modeToggle(!0),e=e.replace(/<p[^>]*><\/p>/gi,"");try{this.editor.setData(e)}catch(n){}t&&this.focus()}},e.prototype.replaceHtml=function(e,t){if(this.editor&&this.__inited&&"wysiwyg"===this.editor.mode)try{this.editor.setData(this.editor.getData().replace(e,t))}catch(n){}},e.prototype.setPlain=function(e,t){if(this.editor&&this.__inited){if(this.modeToggle(!1),"plain"===this.editor.mode&&this.editor.plugins.plain&&this.editor.__plain)this.editor.__plain.setRawData(e);else try{this.editor.setData(e)}catch(n){}t&&this.focus()}},e.prototype.init=function(){var e=this;if(this.$element&&this.$element[0]&&!this.editor){var t=function(){var t=r.oHtmlEditorDefaultConfig,n=s.a.settingsGet("Language"),i=!!s.a.appSettingsGet("allowHtmlEditorSourceButton"),a=!!s.a.appSettingsGet("allowHtmlEditorBitiButtons");!i&&a||t.toolbarGroups.__cfgInited||(t.toolbarGroups.__cfgInited=!0,i&&(t.removeButtons=t.removeButtons.replace(",Source","")),a||(t.removePlugins+=(t.removePlugins?",":"")+"bidi")),t.enterMode=o.b.CKEDITOR.ENTER_BR,t.shiftEnterMode=o.b.CKEDITOR.ENTER_P,t.language=r.oHtmlEditorLangsMap[n]||"en",o.b.CKEDITOR.env&&(o.b.CKEDITOR.env.isCompatible=!0),e.editor=o.b.CKEDITOR.appendTo(e.$element[0],t),e.editor.on("key",function(e){return e&&e.data&&9===e.data.keyCode?!1:void 0}),e.editor.on("blur",function(){e.blurTrigger()}),e.editor.on("mode",function(){e.blurTrigger(),e.onModeChange&&e.onModeChange("plain"!==e.editor.mode)}),e.editor.on("focus",function(){e.focusTrigger()}),o.b.FileReader&&e.editor.on("drop",function(t){if(0<t.data.dataTransfer.getFilesCount()){var n=t.data.dataTransfer.getFile(0);if(n&&o.b.FileReader&&t.data.dataTransfer.id&&n.type&&n.type.match(/^image/i)){var i=t.data.dataTransfer.id,r="[img="+i+"]",a=new o.b.FileReader;a.onloadend=function(){a.result&&e.replaceHtml(r,'<img src="'+a.result+'" />')},a.readAsDataURL(n),t.data.dataTransfer.setData("text/html",r)}}}),e.editor.on("instanceReady",function(){e.editor.removeMenuItem&&(e.editor.removeMenuItem("cut"),e.editor.removeMenuItem("copy"),e.editor.removeMenuItem("paste")),e.__resizable=!0,e.__inited=!0,e.resize(),e.onReady&&e.onReady()})};o.b.CKEDITOR?t():o.b.__initEditor=t}},e.prototype.focus=function(){if(this.editor)try{this.editor.focus()}catch(e){}},e.prototype.hasFocus=function(){if(this.editor)try{return!!this.editor.focusManager.hasFocus}catch(e){}return!1},e.prototype.blur=function(){if(this.editor)try{this.editor.focusManager.blur(!0)}catch(e){}},e.prototype.resize=function(){if(this.editor&&this.__resizable)try{this.editor.resize(this.$element.width(),this.$element.innerHeight())}catch(e){}},e.prototype.setReadOnly=function(e){if(this.editor)try{this.editor.setReadOnly(!!e)}catch(t){}},e.prototype.clear=function(e){this.setHtml("",e)},e}();Object.defineProperty(t,"HtmlEditor",{configurable:!1,enumerable:!0,get:function(){return u}}),Object.defineProperty(t,"default",{configurable:!1,enumerable:!0,get:function(){return u}}),e.exports=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=a&&a.__esModule?function(){return a["default"]}:function(){return a};Object.defineProperty(s,"a",{get:s});var u=n(0),l=n(15),c=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t);var r=o(this,e.call(this));return r.value=n.value,!u.isUnd.bind()(r.value)&&r.value.subscribe||(r.value=s.a.observable(u.isUnd.bind()(r.value)?!1:!!r.value)),r.enable=n.enable,!u.isUnd.bind()(r.enable)&&r.enable.subscribe||(r.enable=s.a.observable(u.isUnd.bind()(r.enable)?!0:!!r.enable)),r.disable=n.disable,!u.isUnd.bind()(r.disable)&&r.disable.subscribe||(r.disable=s.a.observable(u.isUnd.bind()(r.disable)?!1:!!r.disable)),r.label=n.label||"",r.inline=u.isUnd.bind()(n.inline)?!1:n.inline,r.readOnly=u.isUnd.bind()(n.readOnly)?!1:!!n.readOnly,r.inverted=u.isUnd.bind()(n.inverted)?!1:!!n.inverted,r.labeled=!u.isUnd.bind()(n.label),r.labelAnimated=!!n.labelAnimated,r}return r(t,e),t.prototype.click=function(){this.readOnly||!this.enable()||this.disable()||this.value(!this.value())},t}(l.a);Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:function(){return c}})},,function(e,t){e.exports=window.Promise},function(e,t){e.exports=window.crossroads},function(e,t){e.exports=window.progressJs},function(e,t,n){"use strict";var i=n(11),o=i&&i.__esModule?function(){return i["default"]}:function(){return i};Object.defineProperty(o,"a",{get:o});var r=n(2),a=r&&r.__esModule?function(){return r["default"]}:function(){return r};Object.defineProperty(a,"a",{get:a});var s=n(13),u=s&&s.__esModule?function(){return s["default"]}:function(){return s};Object.defineProperty(u,"a",{get:u});var l=n(0),c=n(7),p=n(22),d=p&&p.__esModule?function(){return p["default"]}:function(){return p};Object.defineProperty(d,"a",{get:d});var f=n(5),g=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(g,"a",{get:g});var h=n(29),b=h&&h.__esModule?function(){return h["default"]}:function(){return h};Object.defineProperty(b,"a",{get:b});var m=n(3);t.a=function(e){c.data.__APP__=e,c.$win.on("keydown",l.kill_CtrlA_CtrlS).on("unload",function(){c.data.bUnload=!0}),c.$html.addClass(c.bMobileDevice?"mobile":"no-mobile").on("click.dropdown.data-api",function(){l.detectDropdownVisibility.bind()()});var t=o.a.rl||{};t.i18n=a.a.bind(g.a.i18n,g.a),t.addHook=a.a.bind(d.a.addHook,d.a),t.settingsGet=a.a.bind(d.a.mainSettingsGet,d.a),t.createCommand=l.createCommand,t.addSettingsViewModel=a.a.bind(d.a.addSettingsViewModel,d.a),t.addSettingsViewModelForAdmin=a.a.bind(d.a.addSettingsViewModelForAdmin,d.a),t.pluginRemoteRequest=a.a.bind(d.a.remoteRequest,d.a),t.pluginSettingsGet=a.a.bind(d.a.settingsGet,d.a),t.EmailModel=b.a,t.Enums=m,o.a.rl=t,o.a.__APP_BOOT=function(t){u.a.bind()(function(){a.a.delay(function(){o.a.rainloopTEMPLATES&&o.a.rainloopTEMPLATES[0]?(u.a.bind()("#rl-templates").html(o.a.rainloopTEMPLATES[0]),a.a.delay(function(){e.bootstart(),c.$html.removeClass("no-js rl-booted-trigger").addClass("rl-booted")},10)):t(),o.a.__APP_BOOT=null},10)})}}},function(e,t,n){!function(){"use strict";function t(){this.additionalAccounts=i.observable(!1),this.identities=i.observable(!1),this.gravatar=i.observable(!1),this.attachmentThumbnails=i.observable(!1),this.sieve=i.observable(!1),this.filters=i.observable(!1),this.themes=i.observable(!0),this.userBackground=i.observable(!1),this.openPGP=i.observable(!1),this.twoFactorAuth=i.observable(!1),this.twoFactorAuthForce=i.observable(!1),this.templates=i.observable(!1)}var i=n(1),o=n(3),r=n(8);t.prototype.populate=function(){this.additionalAccounts(r.capa(o.Capa.AdditionalAccounts)),this.identities(r.capa(o.Capa.Identities)),this.gravatar(r.capa(o.Capa.Gravatar)),this.attachmentThumbnails(r.capa(o.Capa.AttachmentThumbnails)),this.sieve(r.capa(o.Capa.Sieve)),this.filters(r.capa(o.Capa.Filters)),this.themes(r.capa(o.Capa.Themes)),this.userBackground(r.capa(o.Capa.UserBackground)),this.openPGP(r.capa(o.Capa.OpenPGP)),this.twoFactorAuth(r.capa(o.Capa.TwoFactor)),this.twoFactorAuthForce(r.capa(o.Capa.TwoFactorForce)),this.templates(r.capa(o.Capa.Templates))},e.exports=new t}()},,,,function(e,t,n){!function(){"use strict";var t=n(11),i=t.Opentip;i.styles.rainloop={"extends":"standard",fixed:!0,target:!0,delay:.2,hideDelay:0,hideEffect:"fade",hideEffectDuration:.2,showEffect:"fade",showEffectDuration:.2,showOn:"mouseover click",removeElementsOnHide:!0,background:"#fff",shadow:!1,borderColor:"#999",borderRadius:2,borderWidth:1},i.styles.rainloopTip={"extends":"rainloop",delay:.4,group:"rainloopTips"},i.styles.rainloopErrorTip={"extends":"rainloop",className:"rainloopErrorTip"},e.exports=i}()},function(e,t,n){!function(){"use strict";function t(){this.oRequests={}}var i=n(11),o=n(2),r=n(13),a=n(16),s=n(3),u=n(7),l=n(0),c=n(22),p=n(12),d=n(8);t.prototype.oRequests={},t.prototype.defaultResponse=function(e,t,n,i,r,p){var d=function(){s.StorageResultType.Success!==n&&u.data.bUnload&&(n=s.StorageResultType.Unload),s.StorageResultType.Success===n&&i&&!i.Result?(i&&-1<l.inArray(i.ErrorCode,[s.Notification.AuthError,s.Notification.AccessError,s.Notification.ConnectionError,s.Notification.DomainNotAllowed,s.Notification.AccountNotAllowed,s.Notification.MailServerError,s.Notification.UnknownNotification,s.Notification.UnknownError])&&u.data.iAjaxErrorCount++,i&&s.Notification.InvalidToken===i.ErrorCode&&u.data.iTokenErrorCount++,a.TOKEN_ERROR_LIMIT<u.data.iTokenErrorCount&&u.data.__APP__&&u.data.__APP__.loginAndLogoutReload&&u.data.__APP__.loginAndLogoutReload(!1,!0),(i.ClearAuth||i.Logout||a.AJAX_ERROR_LIMIT<u.data.iAjaxErrorCount)&&u.data.__APP__&&u.data.__APP__.clearClientSideToken&&(u.data.__APP__.clearClientSideToken(),!i.ClearAuth&&u.data.__APP__.loginAndLogoutReload&&u.data.__APP__.loginAndLogoutReload(!1,!0))):s.StorageResultType.Success===n&&i&&i.Result&&(u.data.iAjaxErrorCount=0,u.data.iTokenErrorCount=0),e&&(c.runHook("ajax-default-response",[t,s.StorageResultType.Success===n?i:null,n,r,p]),e(n,s.StorageResultType.Success===n?i:null,r,t,p))};switch(n){case"success":n=s.StorageResultType.Success;break;case"abort":n=s.StorageResultType.Abort;break;default:n=s.StorageResultType.Error}s.StorageResultType.Error===n?o.delay(d,300):d()},t.prototype.ajaxRequest=function(e,t,n,a,s){var u=this,c=""===a,f={},g=(new i.Date).getTime(),h=null,b="";return t=t||{},n=l.isNormal(n)?n:2e4,a=l.isUnd(a)?"":l.pString(a),s=l.isArray(s)?s:[],b=t.Action||"",b&&0<s.length&&o.each(s,function(e){u.oRequests[e]&&(u.oRequests[e].__aborted=!0,u.oRequests[e].abort&&u.oRequests[e].abort(),u.oRequests[e]=null)}),c&&(t.XToken=d.appSettingsGet("token")),h=r.ajax({type:c?"POST":"GET",url:p.ajax(a),async:!0,dataType:"json",data:c?t:{},headers:f,timeout:n,global:!0}),h.always(function(n,o){var r=!1;n&&n.Time&&(r=l.pInt(n.Time)>(new i.Date).getTime()-g),b&&u.oRequests[b]&&(u.oRequests[b].__aborted&&(o="abort"),u.oRequests[b]=null),u.defaultResponse(e,b,o,n,r,t)}),b&&0<s.length&&-1<l.inArray(b,s)&&(this.oRequests[b]&&(this.oRequests[b].__aborted=!0,this.oRequests[b].abort&&this.oRequests[b].abort(),this.oRequests[b]=null),this.oRequests[b]=h),h},t.prototype.defaultRequest=function(e,t,n,i,o,r){return n=n||{},n.Action=t,o=l.pString(o),c.runHook("ajax-default-request",[t,n,o]),this.ajaxRequest(e,n,l.isUnd(i)?a.DEFAULT_AJAX_TIMEOUT:l.pInt(i),o,r)},t.prototype.noop=function(e){this.defaultRequest(e,"Noop")},t.prototype.jsError=function(e,t,n,i,o,r,a){this.defaultRequest(e,"JsError",{Message:t,FileName:n,LineNo:i,Location:o,HtmlCapa:r,TimeOnPage:a})},t.prototype.jsInfo=function(e,t,n,i){this.defaultRequest(e,"JsInfo",{Type:t,Data:n,IsError:(l.isUnd(i)?1:!i)?"0":"1"})},t.prototype.getPublicKey=function(e){this.defaultRequest(e,"GetPublicKey")},t.prototype.jsVersion=function(e,t){this.defaultRequest(e,"Version",{Version:t})},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(e){c.call(this,"settings",e),this.menu=r.observableArray([]),this.oCurrentSubScreen=null,this.oViewModelPlace=null,this.setupSettings()}var i=n(2),o=n(13),r=n(1),a=n(7),s=n(0),u=n(12),l=n(4),c=n(37);i.extend(t.prototype,c.prototype),t.prototype.setupSettings=function(e){e&&e()},t.prototype.onRoute=function(e){var t=this,n=null,c=null,p=null,d=null;c=i.find(a.aViewModels.settings,function(t){return t&&t.__rlSettingsData&&e===t.__rlSettingsData.Route}),c&&(i.find(a.aViewModels["settings-removed"],function(e){return e&&e===c})&&(c=null),c&&i.find(a.aViewModels["settings-disabled"],function(e){return e&&e===c})&&(c=null)),c?(c.__builded&&c.__vm?n=c.__vm:(p=this.oViewModelPlace,p&&1===p.length?(n=new c,d=o("<div></div>").addClass("rl-settings-view-model").hide(),d.appendTo(p),n.viewModelDom=d,n.__rlSettingsData=c.__rlSettingsData,c.__dom=d,c.__builded=!0,c.__vm=n,r.applyBindingAccessorsToNode(d[0],{translatorInit:!0,template:function(){return{name:c.__rlSettingsData.Template}}},n),s.delegateRun(n,"onBuild",[d])):s.log("Cannot find sub settings view model position: SettingsSubScreen")),n&&i.defer(function(){t.oCurrentSubScreen&&(s.delegateRun(t.oCurrentSubScreen,"onHide"),t.oCurrentSubScreen.viewModelDom.hide()),t.oCurrentSubScreen=n,t.oCurrentSubScreen&&(s.delegateRun(t.oCurrentSubScreen,"onBeforeShow"),t.oCurrentSubScreen.viewModelDom.show(),s.delegateRun(t.oCurrentSubScreen,"onShow"),s.delegateRun(t.oCurrentSubScreen,"onShowWithDelay",[],200),i.each(t.menu(),function(e){e.selected(n&&n.__rlSettingsData&&e.route===n.__rlSettingsData.Route)}),o("#rl-content .b-settings .b-content .content").scrollTop(0)),s.windowResize()})):l.setHash(u.settings(),!1,!0)},t.prototype.onHide=function(){this.oCurrentSubScreen&&this.oCurrentSubScreen.viewModelDom&&(s.delegateRun(this.oCurrentSubScreen,"onHide"),this.oCurrentSubScreen.viewModelDom.hide())},t.prototype.onBuild=function(){i.each(a.aViewModels.settings,function(e){e&&e.__rlSettingsData&&!i.find(a.aViewModels["settings-removed"],function(t){return t&&t===e})&&this.menu.push({route:e.__rlSettingsData.Route,label:e.__rlSettingsData.Label,selected:r.observable(!1),disabled:!!i.find(a.aViewModels["settings-disabled"],function(t){return t&&t===e})})},this),this.oViewModelPlace=o("#rl-content #rl-settings-subscreen")},t.prototype.routes=function(){var e=i.find(a.aViewModels.settings,function(e){return e&&e.__rlSettingsData&&e.__rlSettingsData.IsDefault}),t=e?e.__rlSettingsData.Route:"general",n={subname:/^(.*)$/,normalize_:function(e,n){return n.subname=s.isUnd(n.subname)?t:s.pString(n.subname),[n.subname]}};return[["{subname}/",n],["{subname}",n],["",n]]},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(){this.domains=i.observableArray([]),this.domains.loading=i.observable(!1).extend({throttle:100})}var i=n(1);e.exports=new t}()},function(e,t,n){!function(){"use strict";function t(){this.packages=i.observableArray([]),this.packages.loading=i.observable(!1).extend({throttle:100}),this.packagesReal=i.observable(!0),this.packagesMainUpdatable=i.observable(!0)}var i=n(1);e.exports=new t}()},function(e,t,n){!function(){"use strict";function t(){this.plugins=i.observableArray([]),this.plugins.loading=i.observable(!1).extend({throttle:100}),this.plugins.error=i.observable("")}var i=n(1);e.exports=new t}()},,,,,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(10),s=n(7),u=n(3),l=n(0),c=n(12),p=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(p,"a",{get:p});var d=n(24),f=d&&d.__esModule?function(){return d["default"]}:function(){return d};Object.defineProperty(f,"a",{get:f});var g=n(5),h=g&&g.__esModule?function(){return g["default"]}:function(){return g};Object.defineProperty(h,"a",{get:h});var b=n(8),m=b&&b.__esModule?function(){return b["default"]}:function(){return b};Object.defineProperty(m,"a",{get:m});var v=n(76),S=function(e){function t(n){i(this,t);var r=o(this,e.call(this));return r.googlePreviewSupportedCache=null,r.isLocalAutocomplete=!0,r.iframe=null,r.lastErrorTime=0,r.iframe=a.a.bind()('<iframe class="internal-hiddden" />').appendTo("body"),s.$win.on("error",function(e){if(e&&e.originalEvent&&e.originalEvent.message&&-1===l.inArray.bind()(e.originalEvent.message,["Script error.","Uncaught Error: Error calling method on NPObject."])){var t=l.timestamp.bind()();if(r.lastErrorTime>=t)return;r.lastErrorTime=t,n.jsError(l.noop,e.originalEvent.message,e.originalEvent.filename,e.originalEvent.lineno,a.b.location&&a.b.location.toString?a.b.location.toString():"",s.$html.attr("class"),l.microtime.bind()()-s.startMicrotime)}}),s.$win.on("resize",function(){f.a.pub("window.resize")}),f.a.sub("window.resize",a.c.throttle(function(){var e=s.$win.height(),t=s.$win.height();s.$win.__sizes[0]===e&&s.$win.__sizes[1]===t||(s.$win.__sizes[0]=e,s.$win.__sizes[1]=t,f.a.pub("window.resize.real"))},50)),s.$doc.on("keydown",function(e){e&&e.ctrlKey&&s.$html.addClass("rl-ctrl-key-pressed")}).on("keyup",function(e){e&&!e.ctrlKey&&s.$html.removeClass("rl-ctrl-key-pressed")}),s.$doc.on("mousemove keypress click",a.c.debounce(function(){f.a.pub("rl.auto-logout-refresh")},5e3)),a.d.bind()("esc, enter",u.KeyState.All,a.c.bind(function(){l.detectDropdownVisibility.bind()()},r)),r}return r(t,e),t.prototype.remote=function(){return null},t.prototype.data=function(){return null},t.prototype.getApplicationConfiguration=function(e,t){return this.applicationConfiguration[e]||t},t.prototype.download=function(e){if(s.sUserAgent&&(s.sUserAgent.indexOf("chrome")>-1||s.sUserAgent.indexOf("chrome")>-1)){var t=a.b.document.createElement("a");if(t.href=e,a.b.document&&a.b.document.createEvent){var n=a.b.document.createEvent.MouseEvents;if(n&&n.initEvent&&t.dispatchEvent)return n.initEvent("click",!0,!0),t.dispatchEvent(n),!0}}return s.bMobileDevice?(a.b.open(e,"_self"),a.b.focus()):this.iframe.attr("src",e),!0},t.prototype.googlePreviewSupported=function(){return null===this.googlePreviewSupportedCache&&(this.googlePreviewSupportedCache=!!m.a.settingsGet("AllowGoogleSocial")&&!!m.a.settingsGet("AllowGoogleSocialPreview")),this.googlePreviewSupportedCache},t.prototype.setWindowTitle=function(e){e=l.isNormal.bind()(e)&&0<e.length?""+e:"",m.a.settingsGet("Title")&&(e+=(e?" - ":"")+m.a.settingsGet("Title")),a.b.document.title=e+" ...",a.b.document.title=e},t.prototype.redirectToAdminPanel=function(){a.c.delay(function(){return a.b.location.href=p.a.rootAdmin()},100)},t.prototype.clearClientSideToken=function(){a.b.__rlah_clear&&a.b.__rlah_clear()},t.prototype.setClientSideToken=function(e){a.b.__rlah_set&&(a.b.__rlah_set(e),n(8).settingsSet("AuthAccountHash",e),n(12).populateAuthSuffix())},t.prototype.loginAndLogoutReload=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=n(4),r=m.a.appSettingsGet("mobile"),s=!!m.a.appSettingsGet("inIframe"),u=l.pString.bind()(m.a.appSettingsGet("customLogoutLink"));t&&this.clearClientSideToken(),t&&i&&a.b.close&&a.b.close(),u=u||(e?p.a.rootAdmin(r):p.a.rootUser(r)),t&&a.b.location.href!==u?a.c.delay(function(){s&&a.b.parent?a.b.parent.location.href=u:a.b.location.href=u;
},100):(o.routeOff(),o.setHash(p.a.root(),!0),o.routeOff(),a.c.delay(function(){s&&a.b.parent?a.b.parent.location.reload():a.b.location.reload()},100))},t.prototype.historyBack=function(){a.b.history.back()},t.prototype.bootstart=function(){f.a.pub("rl.bootstart");var e=m.a.appSettingsGet("mobile"),t=n(85),i=n(1);i.components.register("SaveTrigger",n(72)),i.components.register("Input",n(69)),i.components.register("Select",n(74)),i.components.register("Radio",n(71)),i.components.register("TextArea",n(75)),i.components.register("x-script",n(73)),m.a.appSettingsGet("materialDesign")&&s.bAnimationSupported?(i.components.register("Checkbox",n(70)),i.components.register("CheckboxSimple",n(36))):(i.components.register("Checkbox",n(36)),i.components.register("CheckboxSimple",n(36))),h.a.initOnStartOrLangChange(h.a.initNotificationLanguage,h.a),a.c.delay(l.windowResizeCallback,1e3),f.a.sub("ssm.mobile-enter",function(){s.leftPanelDisabled.bind()(!0)}),f.a.sub("ssm.mobile-leave",function(){s.leftPanelDisabled.bind()(!1)}),e?(s.$html.addClass("ssm-state-mobile").addClass("rl-mobile"),f.a.pub("ssm.mobile-enter")):(t.addState({id:"mobile",maxWidth:767,onEnter:function(){s.$html.addClass("ssm-state-mobile"),f.a.pub("ssm.mobile-enter")},onLeave:function(){s.$html.removeClass("ssm-state-mobile"),f.a.pub("ssm.mobile-leave")}}),t.addState({id:"tablet",minWidth:768,maxWidth:999,onEnter:function(){s.$html.addClass("ssm-state-tablet")},onLeave:function(){s.$html.removeClass("ssm-state-tablet")}}),t.addState({id:"desktop",minWidth:1e3,maxWidth:1400,onEnter:function(){s.$html.addClass("ssm-state-desktop")},onLeave:function(){s.$html.removeClass("ssm-state-desktop")}}),t.addState({id:"desktop-large",minWidth:1400,onEnter:function(){s.$html.addClass("ssm-state-desktop-large")},onLeave:function(){s.$html.removeClass("ssm-state-desktop-large")}})),s.leftPanelDisabled.subscribe(function(e){s.$html.toggleClass("rl-left-panel-disabled",e),s.$html.toggleClass("rl-left-panel-enabled",!e)}),s.leftPanelType.subscribe(function(e){s.$html.toggleClass("rl-left-panel-none","none"===e),s.$html.toggleClass("rl-left-panel-short","short"===e)}),s.leftPanelDisabled.valueHasMutated(),t.ready(),n(38).populate(),n(41).populate(),n(33).populate()},t}(v.a);Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:function(){return S}})},,function(e,t){e.exports={eml:"message/rfc822",mime:"message/rfc822",txt:"text/plain",text:"text/plain",def:"text/plain",list:"text/plain","in":"text/plain",ini:"text/plain",log:"text/plain",sql:"text/plain",cfg:"text/plain",conf:"text/plain",asc:"text/plain",rtx:"text/richtext",vcard:"text/vcard",vcf:"text/vcard",htm:"text/html",html:"text/html",csv:"text/csv",ics:"text/calendar",ifb:"text/calendar",xml:"text/xml",json:"application/json",swf:"application/x-shockwave-flash",hlp:"application/winhlp",wgt:"application/widget",chm:"application/vnd.ms-htmlhelp",p10:"application/pkcs10",p7c:"application/pkcs7-mime",p7m:"application/pkcs7-mime",p7s:"application/pkcs7-signature",torrent:"application/x-bittorrent",js:"application/javascript",pl:"text/perl",css:"text/css",asp:"text/asp",php:"application/x-httpd-php",php3:"application/x-httpd-php",php4:"application/x-httpd-php",php5:"application/x-httpd-php",phtml:"application/x-httpd-php",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",jpe:"image/jpeg",jfif:"image/jpeg",gif:"image/gif",bmp:"image/bmp",cgm:"image/cgm",ief:"image/ief",ico:"image/x-icon",tif:"image/tiff",tiff:"image/tiff",svg:"image/svg+xml",svgz:"image/svg+xml",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",webp:"image/webp",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",exe:"application/x-msdownload",dll:"application/x-msdownload",scr:"application/x-msdownload",com:"application/x-msdownload",bat:"application/x-msdownload",msi:"application/x-msdownload",cab:"application/vnd.ms-cab-compressed",gz:"application/x-gzip",tgz:"application/x-gzip",bz:"application/x-bzip",bz2:"application/x-bzip2",deb:"application/x-debian-package",psf:"application/x-font-linux-psf",otf:"application/x-font-otf",pcf:"application/x-font-pcf",snf:"application/x-font-snf",ttf:"application/x-font-ttf",ttc:"application/x-font-ttf",mp3:"audio/mpeg",amr:"audio/amr",aac:"audio/x-aac",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",wav:"audio/x-wav",wma:"audio/x-ms-wma",wax:"audio/x-ms-wax",midi:"audio/midi",mp4a:"audio/mp4",ogg:"audio/ogg",weba:"audio/webm",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",rmp:"audio/x-pn-realaudio-plugin",m3u:"audio/x-mpegurl",flv:"video/x-flv",qt:"video/quicktime",mov:"video/quicktime",wmv:"video/windows-media",avi:"video/x-msvideo",mpg:"video/mpeg",mpeg:"video/mpeg",mpe:"video/mpeg",m1v:"video/mpeg",m2v:"video/mpeg","3gp":"video/3gpp","3g2":"video/3gpp2",h261:"video/h261",h263:"video/h263",h264:"video/h264",jpgv:"video/jpgv",mp4:"video/mp4",mp4v:"video/mp4",mpg4:"video/mp4",ogv:"video/ogg",webm:"video/webm",m4v:"video/x-m4v",asf:"video/x-ms-asf",asx:"video/x-ms-asf",wm:"video/x-ms-wm",wmx:"video/x-ms-wmx",wvx:"video/x-ms-wvx",movie:"video/x-sgi-movie",pdf:"application/pdf",psd:"image/vnd.adobe.photoshop",ai:"application/postscript",eps:"application/postscript",ps:"application/postscript",doc:"application/msword",dot:"application/msword",rtf:"application/rtf",xls:"application/vnd.ms-excel",ppt:"application/vnd.ms-powerpoint",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",odt:"application/vnd.oasis.opendocument.text",ods:"application/vnd.oasis.opendocument.spreadsheet"}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(10),s=n(1),u=s&&s.__esModule?function(){return s["default"]}:function(){return s};Object.defineProperty(u,"a",{get:u});var l=n(0),c=n(15),p=function(e){function t(n){i(this,t);var r=o(this,e.call(this));return r.values=u.a.observableArray([]),r.value=n.value,!l.isUnd.bind()(r.value)&&r.value.subscribe||(r.value=u.a.observable("")),r.inline=l.isUnd.bind()(n.inline)?!1:n.inline,r.readOnly=l.isUnd.bind()(n.readOnly)?!1:!!n.readOnly,n.values&&r.values(a.c.map(n.values,function(e,t){return{label:e,value:t}})),r.click=a.c.bind(r.click,r),r}return r(t,e),t.prototype.click=function(e){!this.readOnly&&e&&this.value(e.value)},t}(c.a);Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:function(){return p}})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(15),s=n(35),u=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return r(t,e),t}(s.a);e.exports=a.b.bind()(u,"InputComponent")},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(10),s=n(1),u=s&&s.__esModule?function(){return s["default"]}:function(){return s};Object.defineProperty(u,"a",{get:u});var l=n(15),c=n(45),p=function(e){function t(n){i(this,t);var r=o(this,e.call(this,n));return r.animationBox=u.a.observable(!1).extend({falseTimeout:200}),r.animationCheckmark=u.a.observable(!1).extend({falseTimeout:200}),r.animationBoxSetTrue=a.c.bind(r.animationBoxSetTrue,r),r.animationCheckmarkSetTrue=a.c.bind(r.animationCheckmarkSetTrue,r),r.disposable.push(r.value.subscribe(function(e){r.triggerAnimation(e)},r)),r}return r(t,e),t.prototype.animationBoxSetTrue=function(){this.animationBox(!0)},t.prototype.animationCheckmarkSetTrue=function(){this.animationCheckmark(!0)},t.prototype.triggerAnimation=function(e){e?(this.animationBoxSetTrue(),a.c.delay(this.animationCheckmarkSetTrue,200)):(this.animationCheckmarkSetTrue(),a.c.delay(this.animationBoxSetTrue,200))},t}(c.a);e.exports=l.b.bind()(p,"CheckboxMaterialDesignComponent")},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(15),s=n(68),u=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return r(t,e),t}(s.a);e.exports=a.b.bind()(u,"RadioComponent")},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n(3),u=n(15),l=function(e){function t(n){i(this,t);var r=o(this,e.call(this));return r.element=n.element||null,r.value=n.value&&n.value.subscribe?n.value:null,r.element&&(r.value?(r.element.css("display","inline-block"),n.verticalAlign&&r.element.css("vertical-align",n.verticalAlign),r.setState(r.value()),r.disposable.push(r.value.subscribe(r.setState,r))):r.element.hide()),r}return r(t,e),t.prototype.setState=function(e){switch(a.pInt.bind()(e)){case s.SaveSettingsStep.TrueResult:this.element.find(".animated,.error").hide().removeClass("visible").end().find(".success").show().addClass("visible");break;case s.SaveSettingsStep.FalseResult:this.element.find(".animated,.success").hide().removeClass("visible").end().find(".error").show().addClass("visible");break;case s.SaveSettingsStep.Animate:this.element.find(".error,.success").hide().removeClass("visible").end().find(".animated").show().addClass("visible");break;default:case s.SaveSettingsStep.Idle:this.element.find(".animated").hide().end().find(".error,.success").removeClass("visible")}},t}(u.a);e.exports=u.b.bind()(l,"SaveTriggerComponent")},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(10),s=n(15),u=function(e){function t(n){i(this,t);var r=o(this,e.call(this));if(n.component&&n.component.templateNodes&&n.element&&n.element[0]&&n.element[0].outerHTML){var s=n.element[0].outerHTML;s=s?s.replace(/<x-script/i,"<script").replace(/<b><\/b><\/x-script>/i,"</script>"):"",s?(n.element.text(""),n.element.replaceWith(a.a.bind()(s).text(n.component.templateNodes[0]&&n.component.templateNodes[0].nodeValue?n.component.templateNodes[0].nodeValue:""))):n.element.remove()}return r}return r(t,e),t}(s.a);e.exports=s.b.bind()(u,"ScriptComponent")},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(5),s=a&&a.__esModule?function(){return a["default"]}:function(){return a};Object.defineProperty(s,"a",{get:s});var u=n(0),l=n(15),c=n(35),p=function(e){function t(n){i(this,t);var r=o(this,e.call(this,n));return r.options=n.options||"",r.optionsText=n.optionsText||null,r.optionsValue=n.optionsValue||null,r.optionsCaption=n.optionsCaption||null,r.optionsCaption&&(r.optionsCaption=s.a.i18n(r.optionsCaption)),r.defautOptionsAfterRender=u.defautOptionsAfterRender,r}return r(t,e),t}(c.a);e.exports=l.b.bind()(p,"SelectComponent")},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n(15),u=n(35),l=function(e){function t(n){i(this,t);var r=o(this,e.call(this,n));return r.rows=n.rows||5,r.spellcheck=a.isUnd.bind()(n.spellcheck)?!1:!!n.spellcheck,r}return r(t,e),t}(u.a);e.exports=s.b.bind()(l,"TextAreaComponent")},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){i(this,e)}return e.prototype.bootstart=function(){},e}();Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:function(){return o}})},,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(1),r=o&&o.__esModule?function(){return o["default"]}:function(){return o};Object.defineProperty(r,"a",{get:r});var a=n(7),s=n(8),u=s&&s.__esModule?function(){return s["default"]}:function(){return s};Object.defineProperty(u,"a",{get:u});var l=function(){function e(){i(this,e),this.allowLanguagesOnSettings=r.a.observable(!0),this.allowLanguagesOnLogin=r.a.observable(!0),this.interfaceAnimation=r.a.observable(!0),this.interfaceAnimation.subscribe(function(e){var t=a.bMobileDevice||!e;a.$html.toggleClass("rl-anim",!t).toggleClass("no-rl-anim",t)}),this.interfaceAnimation.valueHasMutated(),this.prem=r.a.observable(!1),this.community=r.a.observable(!0)}return e.prototype.populate=function(){this.allowLanguagesOnLogin(!!u.a.settingsGet("AllowLanguagesOnLogin")),this.allowLanguagesOnSettings(!!u.a.settingsGet("AllowLanguagesOnSettings")),this.interfaceAnimation(!!u.a.settingsGet("InterfaceAnimation")),this.prem(!!u.a.settingsGet("PremType")),this.community(!!u.a.settingsGet("Community"))},e}();Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:function(){return l}})},,function(e,t){e.exports=window.Autolinker},function(e,t){e.exports=window.JSEncrypt},,function(e,t){e.exports=window.hasher},function(e,t){e.exports=window.moment},function(e,t){e.exports=window.ssm},,,,function(e,t,n){!function(){"use strict";function t(){this.coreReal=i.observable(!0),this.coreChannel=i.observable("stable"),this.coreType=i.observable("stable"),this.coreUpdatable=i.observable(!0),this.coreAccess=i.observable(!0),this.coreWarning=i.observable(!1),this.coreChecking=i.observable(!1).extend({throttle:100}),this.coreUpdating=i.observable(!1).extend({throttle:100}),this.coreVersion=i.observable(""),this.coreRemoteVersion=i.observable(""),this.coreRemoteRelease=i.observable(""),this.coreVersionCompare=i.observable(-2)}var i=n(1);e.exports=new t}()},,,,function(e,t,n){!function(){"use strict";function t(){f.call(this,"Popups","PopupsDomain"),this.edit=o.observable(!1),this.saving=o.observable(!1),this.savingError=o.observable(""),this.page=o.observable("main"),this.sieveSettings=o.observable(!1),this.testing=o.observable(!1),this.testingDone=o.observable(!1),this.testingImapError=o.observable(!1),this.testingSieveError=o.observable(!1),this.testingSmtpError=o.observable(!1),this.testingImapErrorDesc=o.observable(""),this.testingSieveErrorDesc=o.observable(""),this.testingSmtpErrorDesc=o.observable(""),this.testingImapError.subscribe(function(e){e||this.testingImapErrorDesc("")},this),this.testingSieveError.subscribe(function(e){e||this.testingSieveErrorDesc("")},this),this.testingSmtpError.subscribe(function(e){e||this.testingSmtpErrorDesc("")},this),this.imapServerFocus=o.observable(!1),this.sieveServerFocus=o.observable(!1),this.smtpServerFocus=o.observable(!1),this.name=o.observable(""),this.name.focused=o.observable(!1),this.imapServer=o.observable(""),this.imapPort=o.observable(""+a.IMAP_DEFAULT_PORT),this.imapSecure=o.observable(r.ServerSecure.None),this.imapShortLogin=o.observable(!1),this.useSieve=o.observable(!1),this.sieveAllowRaw=o.observable(!1),this.sieveServer=o.observable(""),this.sievePort=o.observable(""+a.SIEVE_DEFAULT_PORT),this.sieveSecure=o.observable(r.ServerSecure.None),this.smtpServer=o.observable(""),this.smtpPort=o.observable(""+a.SMTP_DEFAULT_PORT),this.smtpSecure=o.observable(r.ServerSecure.None),this.smtpShortLogin=o.observable(!1),this.smtpAuth=o.observable(!0),this.smtpPhpMail=o.observable(!1),this.whiteList=o.observable(""),this.enableSmartPorts=o.observable(!1),this.allowSieve=o.computed(function(){return c.filters()&&c.sieve()},this),this.headerText=o.computed(function(){var e=this.name();return this.edit()?l.i18n("POPUPS_DOMAIN/TITLE_EDIT_DOMAIN",{NAME:e}):""===e?l.i18n("POPUPS_DOMAIN/TITLE_ADD_DOMAIN"):l.i18n("POPUPS_DOMAIN/TITLE_ADD_DOMAIN_WITH_NAME",{NAME:e})},this),this.domainDesc=o.computed(function(){var e=this.name();return!this.edit()&&e?l.i18n("POPUPS_DOMAIN/NEW_DOMAIN_DESC",{NAME:"*@"+e}):""},this),this.domainIsComputed=o.computed(function(){var e=this.smtpPhpMail(),t=this.allowSieve(),n=this.useSieve();return""!==this.name()&&""!==this.imapServer()&&""!==this.imapPort()&&(t&&n?""!==this.sieveServer()&&""!==this.sievePort():!0)&&(""!==this.smtpServer()&&""!==this.smtpPort()||e)},this),this.canBeTested=o.computed(function(){return!this.testing()&&this.domainIsComputed()},this),this.canBeSaved=o.computed(function(){return!this.saving()&&this.domainIsComputed()},this),this.createOrAddCommand=u.createCommand(this,function(){this.saving(!0),p.createOrUpdateDomain(i.bind(this.onDomainCreateOrSaveResponse,this),!this.edit(),this.name(),this.imapServer(),u.pInt(this.imapPort()),this.imapSecure(),this.imapShortLogin(),this.useSieve(),this.sieveAllowRaw(),this.sieveServer(),u.pInt(this.sievePort()),this.sieveSecure(),this.smtpServer(),u.pInt(this.smtpPort()),this.smtpSecure(),this.smtpShortLogin(),this.smtpAuth(),this.smtpPhpMail(),this.whiteList())},this.canBeSaved),this.testConnectionCommand=u.createCommand(this,function(){this.page("main"),this.testingDone(!1),this.testingImapError(!1),this.testingSieveError(!1),this.testingSmtpError(!1),this.testing(!0),p.testConnectionForDomain(i.bind(this.onTestConnectionResponse,this),this.name(),this.imapServer(),u.pInt(this.imapPort()),this.imapSecure(),this.useSieve(),this.sieveServer(),u.pInt(this.sievePort()),this.sieveSecure(),this.smtpServer(),u.pInt(this.smtpPort()),this.smtpSecure(),this.smtpAuth(),this.smtpPhpMail())},this.canBeTested),this.whiteListCommand=u.createCommand(this,function(){this.page("white-list")}),this.backCommand=u.createCommand(this,function(){this.page("main")}),this.sieveCommand=u.createCommand(this,function(){this.sieveSettings(!this.sieveSettings()),this.clearTesting()}),this.page.subscribe(function(){this.sieveSettings(!1)},this),this.imapServerFocus.subscribe(function(e){e&&""!==this.name()&&""===this.imapServer()&&this.imapServer(this.name().replace(/[.]?[*][.]?/g,""))},this),this.sieveServerFocus.subscribe(function(e){e&&""!==this.imapServer()&&""===this.sieveServer()&&this.sieveServer(this.imapServer())},this),this.smtpServerFocus.subscribe(function(e){e&&""!==this.imapServer()&&""===this.smtpServer()&&this.smtpServer(this.imapServer().replace(/imap/gi,"smtp"))},this),this.imapSecure.subscribe(function(e){if(this.enableSmartPorts()){var t=u.pInt(this.imapPort());switch(e=u.pString(e)){case"0":993===t&&this.imapPort("143");break;case"1":143===t&&this.imapPort("993")}}},this),this.smtpSecure.subscribe(function(e){if(this.enableSmartPorts()){var t=u.pInt(this.smtpPort());switch(e=u.pString(e)){case"0":465!==t&&587!==t||this.smtpPort("25");break;case"1":25!==t&&587!==t||this.smtpPort("465");break;case"2":25!==t&&465!==t||this.smtpPort("587")}}},this),d.constructorEnd(this)}var i=n(2),o=n(1),r=n(3),a=n(16),s=n(7),u=n(0),l=n(5),c=n(51),p=n(19),d=n(4),f=n(9);d.extendAsViewModel(["View/Popup/Domain","PopupsDomainViewModel"],t),i.extend(t.prototype,f.prototype),t.prototype.onTestConnectionResponse=function(e,t){if(this.testing(!1),r.StorageResultType.Success===e&&t.Result){var n=!1,i=!1;this.testingDone(!0),this.testingImapError(!0!==t.Result.Imap),this.testingSieveError(!0!==t.Result.Sieve),this.testingSmtpError(!0!==t.Result.Smtp),this.testingImapError()&&t.Result.Imap&&(n=!0,this.testingImapErrorDesc(""),this.testingImapErrorDesc(t.Result.Imap)),this.testingSieveError()&&t.Result.Sieve&&(i=!0,this.testingSieveErrorDesc(""),this.testingSieveErrorDesc(t.Result.Sieve)),this.testingSmtpError()&&t.Result.Smtp&&(this.testingSmtpErrorDesc(""),this.testingSmtpErrorDesc(t.Result.Smtp)),this.sieveSettings()?!i&&n&&this.sieveSettings(!1):i&&!n&&this.sieveSettings(!0)}else this.testingImapError(!0),this.testingSieveError(!0),this.testingSmtpError(!0),this.sieveSettings(!1)},t.prototype.onDomainCreateOrSaveResponse=function(e,t){this.saving(!1),r.StorageResultType.Success===e&&t?t.Result?(n(20)["default"].reloadDomainList(),this.closeCommand()):r.Notification.DomainAlreadyExists===t.ErrorCode&&this.savingError(l.i18n("ERRORS/DOMAIN_ALREADY_EXISTS")):this.savingError(l.i18n("ERRORS/UNKNOWN_ERROR"))},t.prototype.clearTesting=function(){this.testing(!1),this.testingDone(!1),this.testingImapError(!1),this.testingSieveError(!1),this.testingSmtpError(!1)},t.prototype.onHide=function(){this.page("main"),this.sieveSettings(!1)},t.prototype.onShow=function(e){this.saving(!1),this.page("main"),this.sieveSettings(!1),this.clearTesting(),this.clearForm(),e&&(this.enableSmartPorts(!1),this.edit(!0),this.name(u.trim(e.Name)),this.imapServer(u.trim(e.IncHost)),this.imapPort(""+u.pInt(e.IncPort)),this.imapSecure(u.trim(e.IncSecure)),this.imapShortLogin(!!e.IncShortLogin),this.useSieve(!!e.UseSieve),this.sieveAllowRaw(!!e.SieveAllowRaw),this.sieveServer(u.trim(e.SieveHost)),this.sievePort(""+u.pInt(e.SievePort)),this.sieveSecure(u.trim(e.SieveSecure)),this.smtpServer(u.trim(e.OutHost)),this.smtpPort(""+u.pInt(e.OutPort)),this.smtpSecure(u.trim(e.OutSecure)),this.smtpShortLogin(!!e.OutShortLogin),this.smtpAuth(!!e.OutAuth),this.smtpPhpMail(!!e.OutUsePhpMail),this.whiteList(u.trim(e.WhiteList)),this.enableSmartPorts(!0))},t.prototype.onShowWithDelay=function(){""!==this.name()||s.bMobile||this.name.focused(!0)},t.prototype.clearForm=function(){this.edit(!1),this.page("main"),this.sieveSettings(!1),this.enableSmartPorts(!1),this.savingError(""),this.name(""),this.name.focused(!1),this.imapServer(""),this.imapPort(""+a.IMAP_DEFAULT_PORT),this.imapSecure(r.ServerSecure.None),this.imapShortLogin(!1),this.useSieve(!1),this.sieveAllowRaw(!1),this.sieveServer(""),this.sievePort(""+a.SIEVE_DEFAULT_PORT),this.sieveSecure(r.ServerSecure.None),this.smtpServer(""),this.smtpPort(""+a.SMTP_DEFAULT_PORT),this.smtpSecure(r.ServerSecure.None),this.smtpShortLogin(!1),this.smtpAuth(!0),this.smtpPhpMail(!1),this.whiteList(""),this.enableSmartPorts(!0)},e.exports=t}()},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){!function(){"use strict";function t(){o.call(this,"login",[n(147)])}var i=n(2),o=n(37);i.extend(t.prototype,o.prototype),t.prototype.onShow=function(){n(20)["default"].setWindowTitle("")},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(){a.call(this,[n(148),n(149)])}var i=n(2),o=n(4),r=n(22),a=n(57);i.extend(t.prototype,a.prototype),t.prototype.setupSettings=function(e){o.addSettingsViewModel(n(129),"AdminSettingsGeneral","TABS_LABELS/LABEL_GENERAL_NAME","general",!0),o.addSettingsViewModel(n(130),"AdminSettingsLogin","TABS_LABELS/LABEL_LOGIN_NAME","login"),o.addSettingsViewModel(n(126),"AdminSettingsBranding","TABS_LABELS/LABEL_BRANDING_NAME","branding"),o.addSettingsViewModel(n(127),"AdminSettingsContacts","TABS_LABELS/LABEL_CONTACTS_NAME","contacts"),o.addSettingsViewModel(n(128),"AdminSettingsDomains","TABS_LABELS/LABEL_DOMAINS_NAME","domains"),o.addSettingsViewModel(n(133),"AdminSettingsSecurity","TABS_LABELS/LABEL_SECURITY_NAME","security"),o.addSettingsViewModel(n(134),"AdminSettingsSocial","TABS_LABELS/LABEL_INTEGRATION_NAME","integrations"),o.addSettingsViewModel(n(132),"AdminSettingsPlugins","TABS_LABELS/LABEL_PLUGINS_NAME","plugins"),o.addSettingsViewModel(n(131),"AdminSettingsPackages","TABS_LABELS/LABEL_PACKAGES_NAME","packages"),o.addSettingsViewModel(n(125),"AdminSettingsAbout","TABS_LABELS/LABEL_ABOUT_NAME","about"),r.runSettingsViewModelHooks(!0),e&&e()},t.prototype.onShow=function(){n(20)["default"].setWindowTitle("")},e.exports=t}()},,,,function(e,t,n){!function(){"use strict";function t(){this.version=i.observable(r.appSettingsGet("version")),this.access=i.observable(!!r.settingsGet("CoreAccess")),this.errorDesc=i.observable(""),this.coreReal=a.coreReal,this.coreChannel=a.coreChannel,this.coreType=a.coreType,this.coreUpdatable=a.coreUpdatable,this.coreAccess=a.coreAccess,this.coreChecking=a.coreChecking,this.coreUpdating=a.coreUpdating,this.coreWarning=a.coreWarning,this.coreVersion=a.coreVersion,this.coreRemoteVersion=a.coreRemoteVersion,this.coreRemoteRelease=a.coreRemoteRelease,this.coreVersionCompare=a.coreVersionCompare,this.community=!0,this.coreRemoteVersionHtmlDesc=i.computed(function(){return o.trigger(),o.i18n("TAB_ABOUT/HTML_NEW_VERSION",{VERSION:this.coreRemoteVersion()})},this),this.statusType=i.computed(function(){var e="",t=this.coreVersionCompare(),n=this.coreChecking(),i=this.coreUpdating(),o=this.coreReal();return n?e="checking":i?e="updating":o&&0===t?e="up-to-date":o&&-1===t?e="available":o||(e="error",this.errorDesc("Cannot access the repository at the moment.")),e},this)}var i=n(1),o=n(5),r=n(8),a=n(89);n(34);t.prototype.onBuild=function(){this.access()&&!this.community&&n(20)["default"].reloadCoreData()},t.prototype.updateCoreData=function(){this.coreUpdating()||this.community||n(20)["default"].updateCoreData()},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(){var e=n(3),t=n(8),i=n(34);this.capa=i.prem,this.title=o.observable(t.settingsGet("Title")),this.title.trigger=o.observable(e.SaveSettingsStep.Idle),this.loadingDesc=o.observable(t.settingsGet("LoadingDescription")),this.loadingDesc.trigger=o.observable(e.SaveSettingsStep.Idle),this.faviconUrl=o.observable(t.settingsGet("FaviconUrl")),this.faviconUrl.trigger=o.observable(e.SaveSettingsStep.Idle),this.loginLogo=o.observable(t.settingsGet("LoginLogo")||""),this.loginLogo.trigger=o.observable(e.SaveSettingsStep.Idle),this.loginBackground=o.observable(t.settingsGet("LoginBackground")||""),this.loginBackground.trigger=o.observable(e.SaveSettingsStep.Idle),this.userLogo=o.observable(t.settingsGet("UserLogo")||""),this.userLogo.trigger=o.observable(e.SaveSettingsStep.Idle),this.userLogoMessage=o.observable(t.settingsGet("UserLogoMessage")||""),this.userLogoMessage.trigger=o.observable(e.SaveSettingsStep.Idle),this.userIframeMessage=o.observable(t.settingsGet("UserIframeMessage")||""),this.userIframeMessage.trigger=o.observable(e.SaveSettingsStep.Idle),this.userLogoTitle=o.observable(t.settingsGet("UserLogoTitle")||""),this.userLogoTitle.trigger=o.observable(e.SaveSettingsStep.Idle),this.loginDescription=o.observable(t.settingsGet("LoginDescription")),this.loginDescription.trigger=o.observable(e.SaveSettingsStep.Idle),this.loginCss=o.observable(t.settingsGet("LoginCss")),this.loginCss.trigger=o.observable(e.SaveSettingsStep.Idle),this.userCss=o.observable(t.settingsGet("UserCss")),this.userCss.trigger=o.observable(e.SaveSettingsStep.Idle),this.welcomePageUrl=o.observable(t.settingsGet("WelcomePageUrl")),this.welcomePageUrl.trigger=o.observable(e.SaveSettingsStep.Idle),this.welcomePageDisplay=o.observable(t.settingsGet("WelcomePageDisplay")),this.welcomePageDisplay.trigger=o.observable(e.SaveSettingsStep.Idle),this.welcomePageDisplay.options=o.computed(function(){return a.trigger(),[{optValue:"none",optText:a.i18n("TAB_BRANDING/OPTION_WELCOME_PAGE_DISPLAY_NONE")},{optValue:"once",optText:a.i18n("TAB_BRANDING/OPTION_WELCOME_PAGE_DISPLAY_ONCE")},{optValue:"always",optText:a.i18n("TAB_BRANDING/OPTION_WELCOME_PAGE_DISPLAY_ALWAYS")}]}),this.loginPowered=o.observable(!!t.settingsGet("LoginPowered")),this.community=!0}var i=n(2),o=n(1),r=n(0),a=n(5);t.prototype.onBuild=function(){var e=this,t=n(19);i.delay(function(){var n=r.settingsSaveHelperSimpleFunction(e.title.trigger,e),i=r.settingsSaveHelperSimpleFunction(e.loadingDesc.trigger,e),o=r.settingsSaveHelperSimpleFunction(e.faviconUrl.trigger,e);e.title.subscribe(function(e){t.saveAdminConfig(n,{Title:r.trim(e)})}),e.loadingDesc.subscribe(function(e){t.saveAdminConfig(i,{LoadingDescription:r.trim(e)})}),e.faviconUrl.subscribe(function(e){t.saveAdminConfig(o,{FaviconUrl:r.trim(e)})})},50)},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(){var e=n(19);this.defautOptionsAfterRender=a.defautOptionsAfterRender,this.enableContacts=o.observable(!!u.settingsGet("ContactsEnable")),this.contactsSharing=o.observable(!!u.settingsGet("ContactsSharing")),this.contactsSync=o.observable(!!u.settingsGet("ContactsSync"));var t=["sqlite","mysql","pgsql"],l=[],c=function(e){switch(e){case"sqlite":e="SQLite";break;case"mysql":e="MySQL";break;case"pgsql":e="PostgreSQL"}return e};u.settingsGet("SQLiteIsSupported")&&l.push("sqlite"),u.settingsGet("MySqlIsSupported")&&l.push("mysql"),u.settingsGet("PostgreSqlIsSupported")&&l.push("pgsql"),this.contactsSupported=0<l.length,this.contactsTypes=o.observableArray([]),this.contactsTypesOptions=this.contactsTypes.map(function(e){var t=-1===a.inArray(e,l);return{id:e,name:c(e)+(t?" ("+s.i18n("HINTS/NOT_SUPPORTED")+")":""),
disabled:t}}),this.contactsTypes(t),this.contactsType=o.observable(""),this.mainContactsType=o.computed({owner:this,read:this.contactsType,write:function(e){e!==this.contactsType()?-1<a.inArray(e,l)?this.contactsType(e):0<l.length&&this.contactsType(""):this.contactsType.valueHasMutated()}}).extend({notify:"always"}),this.contactsType.subscribe(function(){this.testContactsSuccess(!1),this.testContactsError(!1),this.testContactsErrorMessage("")},this),this.pdoDsn=o.observable(u.settingsGet("ContactsPdoDsn")),this.pdoUser=o.observable(u.settingsGet("ContactsPdoUser")),this.pdoPassword=o.observable(u.settingsGet("ContactsPdoPassword")),this.pdoDsnTrigger=o.observable(r.SaveSettingsStep.Idle),this.pdoUserTrigger=o.observable(r.SaveSettingsStep.Idle),this.pdoPasswordTrigger=o.observable(r.SaveSettingsStep.Idle),this.contactsTypeTrigger=o.observable(r.SaveSettingsStep.Idle),this.testing=o.observable(!1),this.testContactsSuccess=o.observable(!1),this.testContactsError=o.observable(!1),this.testContactsErrorMessage=o.observable(""),this.testContactsCommand=a.createCommand(this,function(){this.testContactsSuccess(!1),this.testContactsError(!1),this.testContactsErrorMessage(""),this.testing(!0),e.testContacts(this.onTestContactsResponse,{ContactsPdoType:this.contactsType(),ContactsPdoDsn:this.pdoDsn(),ContactsPdoUser:this.pdoUser(),ContactsPdoPassword:this.pdoPassword()})},function(){return""!==this.pdoDsn()&&""!==this.pdoUser()}),this.contactsType(u.settingsGet("ContactsPdoType")),this.onTestContactsResponse=i.bind(this.onTestContactsResponse,this)}var i=n(2),o=n(1),r=n(3),a=n(0),s=n(5),u=n(8);t.prototype.onTestContactsResponse=function(e,t){this.testContactsSuccess(!1),this.testContactsError(!1),this.testContactsErrorMessage(""),r.StorageResultType.Success===e&&t&&t.Result&&t.Result.Result?this.testContactsSuccess(!0):(this.testContactsError(!0),t&&t.Result?this.testContactsErrorMessage(t.Result.Message||""):this.testContactsErrorMessage("")),this.testing(!1)},t.prototype.onShow=function(){this.testContactsSuccess(!1),this.testContactsError(!1),this.testContactsErrorMessage("")},t.prototype.onBuild=function(){var e=this,t=n(19);i.delay(function(){var n=a.settingsSaveHelperSimpleFunction(e.pdoDsnTrigger,e),i=a.settingsSaveHelperSimpleFunction(e.pdoUserTrigger,e),o=a.settingsSaveHelperSimpleFunction(e.pdoPasswordTrigger,e),r=a.settingsSaveHelperSimpleFunction(e.contactsTypeTrigger,e);e.enableContacts.subscribe(function(e){t.saveAdminConfig(null,{ContactsEnable:e?"1":"0"})}),e.contactsSharing.subscribe(function(e){t.saveAdminConfig(null,{ContactsSharing:e?"1":"0"})}),e.contactsSync.subscribe(function(e){t.saveAdminConfig(null,{ContactsSync:e?"1":"0"})}),e.contactsType.subscribe(function(e){t.saveAdminConfig(r,{ContactsPdoType:e})}),e.pdoDsn.subscribe(function(e){t.saveAdminConfig(n,{ContactsPdoDsn:a.trim(e)})}),e.pdoUser.subscribe(function(e){t.saveAdminConfig(i,{ContactsPdoUser:a.trim(e)})}),e.pdoPassword.subscribe(function(e){t.saveAdminConfig(o,{ContactsPdoPassword:a.trim(e)})}),e.contactsType(u.settingsGet("ContactsPdoType"))},50)},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(){this.domains=a.domains,this.visibility=o.computed(function(){return this.domains.loading()?"visible":"hidden"},this),this.domainForDeletion=o.observable(null).deleteAccessHelper(),this.onDomainListChangeRequest=i.bind(this.onDomainListChangeRequest,this),this.onDomainLoadRequest=i.bind(this.onDomainLoadRequest,this)}var i=n(2),o=n(1),r=n(3),a=n(58),s=n(19);t.prototype.createDomain=function(){n(4).showScreenPopup(n(93))},t.prototype.deleteDomain=function(e){this.domains.remove(e),s.domainDelete(this.onDomainListChangeRequest,e.name)},t.prototype.disableDomain=function(e){e.disabled(!e.disabled()),s.domainDisable(this.onDomainListChangeRequest,e.name,e.disabled())},t.prototype.onBuild=function(e){var t=this;e.on("click",".b-admin-domains-list-table .e-item .e-action",function(){var e=o.dataFor(this);e&&s.domain(t.onDomainLoadRequest,e.name)}),n(20)["default"].reloadDomainList()},t.prototype.onDomainLoadRequest=function(e,t){r.StorageResultType.Success===e&&t&&t.Result&&n(4).showScreenPopup(n(93),[t.Result])},t.prototype.onDomainListChangeRequest=function(){n(20)["default"].reloadDomainList()},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(){this.language=c.language,this.languages=c.languages,this.languageAdmin=c.languageAdmin,this.languagesAdmin=c.languagesAdmin,this.theme=l.theme,this.themes=l.themes,this.capaThemes=d.themes,this.capaUserBackground=d.userBackground,this.capaGravatar=d.gravatar,this.capaAdditionalAccounts=d.additionalAccounts,this.capaIdentities=d.identities,this.capaAttachmentThumbnails=d.attachmentThumbnails,this.capaTemplates=d.templates,this.allowLanguagesOnSettings=p.allowLanguagesOnSettings,this.weakPassword=p.weakPassword,this.mainAttachmentLimit=o.observable(a.pInt(f.settingsGet("AttachmentLimit"))/1048576).extend({posInterer:25}),this.uploadData=f.settingsGet("PhpUploadSizes"),this.uploadDataDesc=this.uploadData&&(this.uploadData.upload_max_filesize||this.uploadData.post_max_size)?[this.uploadData.upload_max_filesize?"upload_max_filesize = "+this.uploadData.upload_max_filesize+"; ":"",this.uploadData.post_max_size?"post_max_size = "+this.uploadData.post_max_size:""].join(""):"",this.themesOptions=o.computed(function(){return i.map(this.themes(),function(e){return{optValue:e,optText:a.convertThemeName(e)}})},this),this.languageFullName=o.computed(function(){return a.convertLangName(this.language())},this),this.languageAdminFullName=o.computed(function(){return a.convertLangName(this.languageAdmin())},this),this.attachmentLimitTrigger=o.observable(r.SaveSettingsStep.Idle),this.languageTrigger=o.observable(r.SaveSettingsStep.Idle),this.languageAdminTrigger=o.observable(r.SaveSettingsStep.Idle).extend({throttle:100}),this.themeTrigger=o.observable(r.SaveSettingsStep.Idle)}var i=n(2),o=n(1),r=n(3),a=n(0),s=n(12),u=n(5),l=n(41),c=n(38),p=n(34),d=n(51),f=n(8);t.prototype.onBuild=function(){var e=this,t=n(19);i.delay(function(){var n=a.settingsSaveHelperSimpleFunction(e.attachmentLimitTrigger,e),o=a.settingsSaveHelperSimpleFunction(e.languageTrigger,e),s=a.settingsSaveHelperSimpleFunction(e.themeTrigger,e),l=function(t){return function(){e.languageAdminTrigger(t),i.delay(function(){e.languageAdminTrigger(r.SaveSettingsStep.Idle)},1e3)}};e.mainAttachmentLimit.subscribe(function(e){t.saveAdminConfig(n,{AttachmentLimit:a.pInt(e)})}),e.language.subscribe(function(e){t.saveAdminConfig(o,{Language:a.trim(e)})}),e.languageAdmin.subscribe(function(n){e.languageAdminTrigger(r.SaveSettingsStep.Animate),u.reload(!0,n,l(r.SaveSettingsStep.TrueResult),l(r.SaveSettingsStep.FalseResult)),t.saveAdminConfig(null,{LanguageAdmin:a.trim(n)})}),e.theme.subscribe(function(n){a.changeTheme(n,e.themeTrigger),t.saveAdminConfig(s,{Theme:a.trim(n)})}),e.capaAdditionalAccounts.subscribe(function(e){t.saveAdminConfig(null,{CapaAdditionalAccounts:e?"1":"0"})}),e.capaIdentities.subscribe(function(e){t.saveAdminConfig(null,{CapaIdentities:e?"1":"0"})}),e.capaTemplates.subscribe(function(e){t.saveAdminConfig(null,{CapaTemplates:e?"1":"0"})}),e.capaGravatar.subscribe(function(e){t.saveAdminConfig(null,{CapaGravatar:e?"1":"0"})}),e.capaAttachmentThumbnails.subscribe(function(e){t.saveAdminConfig(null,{CapaAttachmentThumbnails:e?"1":"0"})}),e.capaThemes.subscribe(function(e){t.saveAdminConfig(null,{CapaThemes:e?"1":"0"})}),e.capaUserBackground.subscribe(function(e){t.saveAdminConfig(null,{CapaUserBackground:e?"1":"0"})}),e.allowLanguagesOnSettings.subscribe(function(e){t.saveAdminConfig(null,{AllowLanguagesOnSettings:e?"1":"0"})})},50)},t.prototype.selectLanguage=function(){n(4).showScreenPopup(n(43),[this.language,this.languages(),c.userLanguage()])},t.prototype.selectLanguageAdmin=function(){n(4).showScreenPopup(n(43),[this.languageAdmin,this.languagesAdmin(),c.userLanguageAdmin()])},t.prototype.phpInfoLink=function(){return s.phpInfo()},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(){this.determineUserLanguage=s.determineUserLanguage,this.determineUserDomain=s.determineUserDomain,this.defaultDomain=o.observable(u.settingsGet("LoginDefaultDomain")),this.allowLanguagesOnLogin=s.allowLanguagesOnLogin,this.defaultDomainTrigger=o.observable(r.SaveSettingsStep.Idle),this.dummy=o.observable(!1)}var i=n(2),o=n(1),r=n(3),a=n(0),s=n(34),u=n(8);t.prototype.onBuild=function(){var e=this,t=n(19);i.delay(function(){var n=a.settingsSaveHelperSimpleFunction(e.defaultDomainTrigger,e);e.determineUserLanguage.subscribe(function(e){t.saveAdminConfig(null,{DetermineUserLanguage:e?"1":"0"})}),e.determineUserDomain.subscribe(function(e){t.saveAdminConfig(null,{DetermineUserDomain:e?"1":"0"})}),e.allowLanguagesOnLogin.subscribe(function(e){t.saveAdminConfig(null,{AllowLanguagesOnLogin:e?"1":"0"})}),e.defaultDomain.subscribe(function(e){t.saveAdminConfig(n,{LoginDefaultDomain:a.trim(e)})})},50)},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(){this.packagesError=r.observable(""),this.packages=u.packages,this.packagesReal=u.packagesReal,this.packagesMainUpdatable=u.packagesMainUpdatable,this.packagesCurrent=this.packages.filter(function(e){return e&&""!==e.installed&&!e.compare}),this.packagesAvailableForUpdate=this.packages.filter(function(e){return e&&""!==e.installed&&!!e.compare}),this.packagesAvailableForInstallation=this.packages.filter(function(e){return e&&""===e.installed}),this.visibility=r.computed(function(){return u.packages.loading()?"visible":"hidden"},this)}var i=n(11),o=n(2),r=n(1),a=n(3),s=n(5),u=n(59),l=n(19);t.prototype.onShow=function(){this.packagesError("")},t.prototype.onBuild=function(){n(20)["default"].reloadPackagesList()},t.prototype.requestHelper=function(e,t){var r=this;return function(u,l){a.StorageResultType.Success===u&&l&&l.Result||(l&&l.ErrorCode?r.packagesError(s.getNotification(l.ErrorCode)):r.packagesError(s.getNotification(t?a.Notification.CantInstallPackage:a.Notification.CantDeletePackage))),o.each(r.packages(),function(t){t&&e&&t.loading()&&e.file===t.file&&(e.loading(!1),t.loading(!1))}),a.StorageResultType.Success===u&&l&&l.Result&&l.Result.Reload?i.location.reload():n(20)["default"].reloadPackagesList()}},t.prototype.deletePackage=function(e){e&&(e.loading(!0),l.packageDelete(this.requestHelper(e,!1),e))},t.prototype.installPackage=function(e){e&&(e.loading(!0),l.packageInstall(this.requestHelper(e,!0),e))},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(){this.enabledPlugins=o.observable(!!u.settingsGet("EnabledPlugins")),this.plugins=l.plugins,this.pluginsError=l.plugins.error,this.community=!0,this.visibility=o.computed(function(){return l.plugins.loading()?"visible":"hidden"},this),this.onPluginLoadRequest=i.bind(this.onPluginLoadRequest,this),this.onPluginDisableRequest=i.bind(this.onPluginDisableRequest,this)}var i=n(2),o=n(1),r=n(3),a=n(0),s=n(5),u=n(8),l=(n(34),n(60)),c=n(19);t.prototype.disablePlugin=function(e){e.disabled(!e.disabled()),c.pluginDisable(this.onPluginDisableRequest,e.name,e.disabled())},t.prototype.configurePlugin=function(e){c.plugin(this.onPluginLoadRequest,e.name)},t.prototype.onBuild=function(e){var t=this;e.on("click",".e-item .configure-plugin-action",function(){var e=o.dataFor(this);e&&t.configurePlugin(e)}).on("click",".e-item .disabled-plugin",function(){var e=o.dataFor(this);e&&t.disablePlugin(e)}),this.enabledPlugins.subscribe(function(e){c.saveAdminConfig(a.emptyFunction,{EnabledPlugins:e?"1":"0"})})},t.prototype.onShow=function(){l.plugins.error(""),n(20)["default"].reloadPluginList()},t.prototype.onPluginLoadRequest=function(e,t){r.StorageResultType.Success===e&&t&&t.Result&&n(4).showScreenPopup(n(156),[t.Result])},t.prototype.onPluginDisableRequest=function(e,t){r.StorageResultType.Success===e&&t&&!t.Result&&t.ErrorCode&&(r.Notification.UnsupportedPluginPackage===t.ErrorCode&&t.ErrorMessage&&""!==t.ErrorMessage?l.plugins.error(t.ErrorMessage):l.plugins.error(s.getNotification(t.ErrorCode))),n(20)["default"].reloadPluginList()},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(){this.useLocalProxyForExternalImages=u.useLocalProxyForExternalImages,this.weakPassword=u.weakPassword,this.capaOpenPGP=l.openPGP,this.capaTwoFactorAuth=l.twoFactorAuth,this.capaTwoFactorAuthForce=l.twoFactorAuthForce,this.capaTwoFactorAuth.subscribe(function(e){e||this.capaTwoFactorAuthForce(!1)},this),this.verifySslCertificate=o.observable(!!c.settingsGet("VerifySslCertificate")),this.allowSelfSigned=o.observable(!!c.settingsGet("AllowSelfSigned")),this.verifySslCertificate.subscribe(function(e){e||this.allowSelfSigned(!0)},this),this.adminLogin=o.observable(c.settingsGet("AdminLogin")),this.adminLoginError=o.observable(!1),this.adminPassword=o.observable(""),this.adminPasswordNew=o.observable(""),this.adminPasswordNew2=o.observable(""),this.adminPasswordNewError=o.observable(!1),this.adminPasswordUpdateError=o.observable(!1),this.adminPasswordUpdateSuccess=o.observable(!1),this.adminPassword.subscribe(function(){this.adminPasswordUpdateError(!1),this.adminPasswordUpdateSuccess(!1)},this),this.adminLogin.subscribe(function(){this.adminLoginError(!1)},this),this.adminPasswordNew.subscribe(function(){this.adminPasswordUpdateError(!1),this.adminPasswordUpdateSuccess(!1),this.adminPasswordNewError(!1)},this),this.adminPasswordNew2.subscribe(function(){this.adminPasswordUpdateError(!1),this.adminPasswordUpdateSuccess(!1),this.adminPasswordNewError(!1)},this),this.saveNewAdminPasswordCommand=a.createCommand(this,function(){return""===a.trim(this.adminLogin())?(this.adminLoginError(!0),!1):this.adminPasswordNew()!==this.adminPasswordNew2()?(this.adminPasswordNewError(!0),!1):(this.adminPasswordUpdateError(!1),this.adminPasswordUpdateSuccess(!1),void p.saveNewAdminPassword(this.onNewAdminPasswordResponse,{Login:this.adminLogin(),Password:this.adminPassword(),NewPassword:this.adminPasswordNew()}))},function(){return""!==a.trim(this.adminLogin())&&""!==this.adminPassword()}),this.onNewAdminPasswordResponse=i.bind(this.onNewAdminPasswordResponse,this)}var i=n(2),o=n(1),r=n(3),a=n(0),s=n(12),u=n(34),l=n(51),c=n(8),p=n(19);t.prototype.onNewAdminPasswordResponse=function(e,t){r.StorageResultType.Success===e&&t&&t.Result?(this.adminPassword(""),this.adminPasswordNew(""),this.adminPasswordNew2(""),this.adminPasswordUpdateSuccess(!0),this.weakPassword(!!t.Result.Weak)):this.adminPasswordUpdateError(!0)},t.prototype.onBuild=function(){this.capaOpenPGP.subscribe(function(e){p.saveAdminConfig(a.emptyFunction,{CapaOpenPGP:e?"1":"0"})}),this.capaTwoFactorAuth.subscribe(function(e){p.saveAdminConfig(a.emptyFunction,{CapaTwoFactorAuth:e?"1":"0"})}),this.capaTwoFactorAuthForce.subscribe(function(e){p.saveAdminConfig(a.emptyFunction,{CapaTwoFactorAuthForce:e?"1":"0"})}),this.useLocalProxyForExternalImages.subscribe(function(e){p.saveAdminConfig(null,{UseLocalProxyForExternalImages:e?"1":"0"})}),this.verifySslCertificate.subscribe(function(e){p.saveAdminConfig(null,{VerifySslCertificate:e?"1":"0"})}),this.allowSelfSigned.subscribe(function(e){p.saveAdminConfig(null,{AllowSelfSigned:e?"1":"0"})})},t.prototype.onHide=function(){this.adminPassword(""),this.adminPasswordNew(""),this.adminPasswordNew2("")},t.prototype.phpInfoLink=function(){return s.phpInfo()},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(){var e=n(33);this.googleEnable=e.google.enabled,this.googleEnableAuth=e.google.capa.auth,this.googleEnableAuthFast=e.google.capa.authFast,this.googleEnableDrive=e.google.capa.drive,this.googleEnablePreview=e.google.capa.preview,this.googleEnableRequireClientSettings=e.google.require.clientSettings,this.googleEnableRequireApiKey=e.google.require.apiKeySettings,this.googleClientID=e.google.clientID,this.googleClientSecret=e.google.clientSecret,this.googleApiKey=e.google.apiKey,this.googleTrigger1=o.observable(r.SaveSettingsStep.Idle),this.googleTrigger2=o.observable(r.SaveSettingsStep.Idle),this.googleTrigger3=o.observable(r.SaveSettingsStep.Idle),this.facebookSupported=e.facebook.supported,this.facebookEnable=e.facebook.enabled,this.facebookAppID=e.facebook.appID,this.facebookAppSecret=e.facebook.appSecret,this.facebookTrigger1=o.observable(r.SaveSettingsStep.Idle),this.facebookTrigger2=o.observable(r.SaveSettingsStep.Idle),this.twitterEnable=e.twitter.enabled,this.twitterConsumerKey=e.twitter.consumerKey,this.twitterConsumerSecret=e.twitter.consumerSecret,this.twitterTrigger1=o.observable(r.SaveSettingsStep.Idle),this.twitterTrigger2=o.observable(r.SaveSettingsStep.Idle),this.dropboxEnable=e.dropbox.enabled,this.dropboxApiKey=e.dropbox.apiKey,this.dropboxTrigger1=o.observable(r.SaveSettingsStep.Idle)}var i=n(2),o=n(1),r=n(3),a=n(0);t.prototype.onBuild=function(){var e=this,t=n(19);i.delay(function(){var n=a.settingsSaveHelperSimpleFunction(e.facebookTrigger1,e),i=a.settingsSaveHelperSimpleFunction(e.facebookTrigger2,e),o=a.settingsSaveHelperSimpleFunction(e.twitterTrigger1,e),r=a.settingsSaveHelperSimpleFunction(e.twitterTrigger2,e),s=a.settingsSaveHelperSimpleFunction(e.googleTrigger1,e),u=a.settingsSaveHelperSimpleFunction(e.googleTrigger2,e),l=a.settingsSaveHelperSimpleFunction(e.googleTrigger3,e),c=a.settingsSaveHelperSimpleFunction(e.dropboxTrigger1,e);e.facebookEnable.subscribe(function(n){e.facebookSupported()&&t.saveAdminConfig(a.emptyFunction,{FacebookEnable:n?"1":"0"})}),e.facebookAppID.subscribe(function(i){e.facebookSupported()&&t.saveAdminConfig(n,{FacebookAppID:a.trim(i)})}),e.facebookAppSecret.subscribe(function(n){e.facebookSupported()&&t.saveAdminConfig(i,{FacebookAppSecret:a.trim(n)})}),e.twitterEnable.subscribe(function(e){t.saveAdminConfig(a.emptyFunction,{TwitterEnable:e?"1":"0"})}),e.twitterConsumerKey.subscribe(function(e){t.saveAdminConfig(o,{TwitterConsumerKey:a.trim(e)})}),e.twitterConsumerSecret.subscribe(function(e){t.saveAdminConfig(r,{TwitterConsumerSecret:a.trim(e)})}),e.googleEnable.subscribe(function(e){t.saveAdminConfig(a.emptyFunction,{GoogleEnable:e?"1":"0"})}),e.googleEnableAuth.subscribe(function(e){t.saveAdminConfig(a.emptyFunction,{GoogleEnableAuth:e?"1":"0"})}),e.googleEnableDrive.subscribe(function(e){t.saveAdminConfig(a.emptyFunction,{GoogleEnableDrive:e?"1":"0"})}),e.googleEnablePreview.subscribe(function(e){t.saveAdminConfig(a.emptyFunction,{GoogleEnablePreview:e?"1":"0"})}),e.googleClientID.subscribe(function(e){t.saveAdminConfig(s,{GoogleClientID:a.trim(e)})}),e.googleClientSecret.subscribe(function(e){t.saveAdminConfig(u,{GoogleClientSecret:a.trim(e)})}),e.googleApiKey.subscribe(function(e){t.saveAdminConfig(l,{GoogleApiKey:a.trim(e)})}),e.dropboxEnable.subscribe(function(e){t.saveAdminConfig(a.emptyFunction,{DropboxEnable:e?"1":"0"})}),e.dropboxApiKey.subscribe(function(e){t.saveAdminConfig(c,{DropboxApiKey:a.trim(e)})})},50)},e.exports=t}()},,,,,,,,,,,,function(e,t,n){!function(){"use strict";function t(){this.licensing=i.observable(!1),this.licensingProcess=i.observable(!1),this.licenseValid=i.observable(!1),this.licenseExpired=i.observable(0),this.licenseError=i.observable(""),this.licenseTrigger=i.observable(!1)}var i=n(1);e.exports=new t}()},function(e,t,n){!function(){"use strict";function t(){p.call(this,"Center","AdminLogin"),this.logoPowered=!!u.settingsGet("LoginPowered"),this.mobile=!!u.appSettingsGet("mobile"),this.mobileDevice=!!u.appSettingsGet("mobileDevice"),this.login=o.observable(""),this.password=o.observable(""),this.loginError=o.observable(!1),this.passwordError=o.observable(!1),this.loginErrorAnimation=o.observable(!1).extend({falseTimeout:500}),this.passwordErrorAnimation=o.observable(!1).extend({falseTimeout:500}),this.loginFocus=o.observable(!1),this.formHidden=o.observable(!1),this.formError=o.computed(function(){return this.loginErrorAnimation()||this.passwordErrorAnimation()},this),this.login.subscribe(function(){this.loginError(!1)},this),this.password.subscribe(function(){this.passwordError(!1)},this),this.loginError.subscribe(function(e){this.loginErrorAnimation(!!e)},this),this.passwordError.subscribe(function(e){this.passwordErrorAnimation(!!e)},this),this.submitRequest=o.observable(!1),this.submitError=o.observable(""),this.submitCommand=a.createCommand(this,function(){return a.triggerAutocompleteInputChange(),this.loginError(!1),this.passwordError(!1),this.loginError(""===a.trim(this.login())),this.passwordError(""===a.trim(this.password())),this.loginError()||this.passwordError()?!1:(this.submitRequest(!0),l.adminLogin(i.bind(function(e,t){r.StorageResultType.Success===e&&t&&"AdminLogin"===t.Action?t.Result?n(20)["default"].loginAndLogoutReload(!0):t.ErrorCode&&(this.submitRequest(!1),this.submitError(s.getNotification(t.ErrorCode))):(this.submitRequest(!1),this.submitError(s.getNotification(r.Notification.UnknownError)))},this),this.login(),this.password()),!0)},function(){return!this.submitRequest()}),c.constructorEnd(this)}var i=n(2),o=n(1),r=n(3),a=n(0),s=n(5),u=n(8),l=n(19),c=n(4),p=n(9);c.extendAsViewModel(["View/Admin/Login","AdminLoginViewModel"],t),i.extend(t.prototype,p.prototype),t.prototype.onShow=function(){c.routeOff(),i.delay(i.bind(function(){this.loginFocus(!0)},this),100)},t.prototype.onHide=function(){this.loginFocus(!1)},t.prototype.onBuild=function(){a.triggerAutocompleteInputChange(!0)},t.prototype.submitForm=function(){this.submitCommand()},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(e){a.call(this,"Left","AdminMenu"),this.leftPanelDisabled=o.leftPanelDisabled,this.menu=e.menu,r.constructorEnd(this)}var i=n(2),o=n(7),r=n(4),a=n(9);r.extendAsViewModel(["View/Admin/Settings/Menu","AdminSettingsMenuViewModel"],t),i.extend(t.prototype,a.prototype),t.prototype.link=function(e){return"#/"+e},t.prototype.onBuild=function(e){key("up, down",i.throttle(function(t,n){var i="",o=-1,a=n&&"up"===n.shortcut,s=$(".b-admin-menu .e-item",e);t&&s.length&&(o=s.index(s.filter(".selected")),a&&o>0?o--:!a&&o<s.length-1&&o++,i=s.eq(o).attr("href"),i&&r.setHash(i,!1,!0))},200))},e.exports=t}()},function(e,t,n){!function(){"use strict";function t(){u.call(this,"Right","AdminPane"),this.adminDomain=o.observable(r.settingsGet("AdminDomain")),this.version=o.observable(r.appSettingsGet("version")),this.capa=!!r.settingsGet("PremType"),this.community=!0,this.adminManLoading=o.computed(function(){return"000"!==[n(58).domains.loading()?"1":"0",n(60).plugins.loading()?"1":"0",n(59).packages.loading()?"1":"0"].join("")},this),this.adminManLoadingVisibility=o.computed(function(){return this.adminManLoading()?"visible":"hidden"},this).extend({rateLimit:300}),s.constructorEnd(this)}var i=n(2),o=n(1),r=n(8),a=n(19),s=n(4),u=n(9);s.extendAsViewModel(["View/Admin/Settings/Pane","AdminSettingsPaneViewModel"],t),i.extend(t.prototype,u.prototype),t.prototype.logoutClick=function(){a.adminLogout(function(){n(20)["default"].loginAndLogoutReload(!0,!0)})},e.exports=t}()},,,,,,,function(e,t,n){!function(){"use strict";function t(){p.call(this,"Popups","PopupsPlugin");var e=this;this.onPluginSettingsUpdateResponse=i.bind(this.onPluginSettingsUpdateResponse,this),this.saveError=o.observable(""),this.name=o.observable(""),this.readme=o.observable(""),this.configures=o.observableArray([]),this.hasReadme=o.computed(function(){return""!==this.readme()},this),this.hasConfiguration=o.computed(function(){return 0<this.configures().length},this),this.readmePopoverConf={placement:"right",trigger:"hover",title:u.i18n("POPUPS_PLUGIN/TOOLTIP_ABOUT_TITLE"),container:"body",html:!0,content:function(){return"<pre>"+e.readme()+"</pre>"}},this.saveCommand=s.createCommand(this,function(){var e={};e.Name=this.name(),i.each(this.configures(),function(t){var n=t.value();!1!==n&&!0!==n||(n=n?"1":"0"),e["_"+t.Name]=n},this),this.saveError(""),l.pluginSettingsUpdate(this.onPluginSettingsUpdateResponse,e)},this.hasConfiguration),this.bDisabeCloseOnEsc=!0,this.sDefaultKeyScope=a.KeyState.All,this.tryToClosePopup=i.debounce(i.bind(this.tryToClosePopup,this),200),c.constructorEnd(this)}var i=n(2),o=n(1),r=n(18),a=n(3),s=n(0),u=n(5),l=n(19),c=n(4),p=n(9);c.extendAsViewModel(["View/Popup/Plugin","PopupsPluginViewModel"],t),i.extend(t.prototype,p.prototype),t.prototype.onPluginSettingsUpdateResponse=function(e,t){a.StorageResultType.Success===e&&t&&t.Result?this.cancelCommand():(this.saveError(""),t&&t.ErrorCode?this.saveError(u.getNotification(t.ErrorCode)):this.saveError(u.getNotification(a.Notification.CantSavePluginSettings)))},t.prototype.onShow=function(e){if(this.name(),this.readme(),this.configures([]),e){this.name(e.Name),this.readme(e.Readme);var t=e.Config;s.isNonEmptyArray(t)&&this.configures(i.map(t,function(e){return{value:o.observable(e[0]),placeholder:o.observable(e[6]),Name:e[1],Type:e[2],Label:e[3],Default:e[4],Desc:e[5]}}))}},t.prototype.tryToClosePopup=function(){var e=this,t=n(42);c.isPopupVisible(t)||c.showScreenPopup(t,[u.i18n("POPUPS_ASK/DESC_WANT_CLOSE_THIS_WINDOW"),function(){e.modalVisibility()&&s.delegateRun(e,"cancelCommand")}])},t.prototype.onBuild=function(){r("esc",a.KeyState.All,i.bind(function(){return this.modalVisibility()&&this.tryToClosePopup(),!1},this))},e.exports=t}()},,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(50),o=n(20);i.a.bind()(o["default"])}]);
